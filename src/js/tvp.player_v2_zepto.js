/*! TenVideoPlayer_V2 - v2.0.0 - 2015-07-30 11:28:46
 * Copyright (c) 2015
 * Powered by Tencent-Video Web Front End Team 
*/
!function(global){var tvp={};tvp.lastModify="2015-07-30 11:28:45",tvp.ts=tvp.lastModify.replace(/\D/g,""),tvp.ver="$V2.0Build4691$",tvp.name="\u817e\u8baf\u89c6\u9891\u7edf\u4e00\u64ad\u653e\u5668","undefined"==typeof window.DEBUG&&(window.DEBUG=1),window.FILEPATH="//imgcache.qq.com/tencentvideo_v1/tvp/js/";var top=window.top;if(top!=window)try{tvp.topurl=top.location.href}catch(e){top=window}tvp.log=function(a){if(window.DEBUG&&null!=document.getElementById("tvp_debug_console")){var b=document.getElementById("tvp_debug_console");b.innerHTML+=a+" | "}else window.console&&window.console.log("["+tvp.log.debugid++ +"] "+a)},tvp.debug=function(a){window.DEBUG||-1!==tvp.log.isDebug||(tvp.log.isDebug="true"==tvp.$.getUrlParam("debug")?1:0),(window.DEBUG||tvp.log.isDebug)&&tvp.log(a)},tvp.log.isDebug=-1,tvp.log.debugid=1,tvp.DEVICE={aphone:1,iphone:2,ipad:3,other:0},tvp.PLATFORM={wechat:1,mqq:2,qqbrowser:3,other:0},tvp.APPID={wechatPublic:1e4,news:10001,qqmusic:10007},tvp.ACTION={onVodH5Init:"tvp:vodhtml5:beforeInit",onFlashPlayerInited:"tvp:flash:inited"},function(){function a(a){return a instanceof Array}if("object"!=typeof tvp||!tvp.$||!tvp.$.Deferred){var b,c,d,e,f,g,h,i,j,k,l,m,n,o=[].slice;f="1.3.2",c="pending",e="resolved",d="rejected",j=function(a,b){return null!=a?a.hasOwnProperty(b):void 0},l=function(a){return j(a,"length")&&j(a,"callee")},i=function(b){return l(b)?i(Array.prototype.slice.call(b)):a(b)?b.reduce(function(b,c){return a(c)?b.concat(i(c)):(b.push(c),b)},[]):[b]},g=function(a,b){return 0>=a?b():function(){return--a<1?b.apply(this,arguments):void 0}},m=function(a,b){return function(){var c;return c=[a].concat(Array.prototype.slice.call(arguments,0)),b.apply(this,c)}},h=function(a,b,c){var d,e,f,g,h;for(g=i(a),h=[],e=0,f=g.length;f>e;e++)d=g[e],h.push(d.call.apply(d,[c].concat(o.call(b))));return h},b=function(){var a,f,g,j,k,l;return l=c,j=[],k=[],a=[],g={},this.promise=function(f){var m,n;return f=f||{},f.state=function(){return l},n=function(a,b){return function(){return l===c&&b.push.apply(b,i(arguments)),a()&&h(arguments,g),f}},f.done=n(function(){return l===e},j),f.fail=n(function(){return l===d},k),f.always=n(function(){return l!==c},a),m=function(a,c){var d,e;return d=new b,e=function(a,b,c){return a(c?function(){return b(c.apply(null,i(arguments)))}:function(){return b.apply(null,i(arguments))})},e(f.done,d.resolve,a),e(f.fail,d.reject,c),d},f.pipe=m,f.then=m,f},this.promise(this),f=function(b,d,e){return function(){return l===c&&(l=b,g=arguments,h([d,a],g,e)),this}},this.resolve=f(e,j),this.reject=f(d,k),this.resolveWith=function(){var a,b;return b=arguments[0],a=2<=arguments.length?o.call(arguments,1):[],f(e,j,b).apply(null,a)},this.rejectWith=function(){var a,b;return b=arguments[0],a=2<=arguments.length?o.call(arguments,1):[],f(d,k,b).apply(null,a)},this},n=function(){var a,c,d,e,f,h,j,k;for(e=new b,c=i(arguments),d=g(c.length,e.resolve),f=0,j=c.length;j>f;f++)a=c[f],a.done(d);for(h=0,k=c.length;k>h;h++)a=c[h],a.fail(function(a,b){return e.reject(a,b)});return e.promise()},k=function(a){return a.Deferred=function(){return new b},a.ajax=m(a.ajax,function(a,c){var d,e;return null==c&&(c={}),e=new b,d=function(a,b){return m(a,function(){var a,c;return c=arguments[0],a=2<=arguments.length?o.call(arguments,1):[],c&&c.apply(null,a),b.apply(null,a)})},c.success=d(c.success,e.resolve),c.error=d(c.error,e.reject),a(c),e.promise()}),a.when=n},"undefined"!=typeof exports?(exports.Deferred=function(){return new b},exports.when=n,exports.installInto=k):(this.Deferred=function(){return new b},this.Deferred.when=n,this.Deferred.installInto=k,this.DeferedClass=b),tvp.Deferred.installInto("undefined"!=typeof Zepto?Zepto:jq)}}.call(tvp);var _isUseInnerZepto=!1;"undefined"!=typeof Zepto&&Zepto._tvp?(tvp.$=Zepto,_isUseInnerZepto=!0):(tvp.$={},_isUseInnerZepto=!1),function(){return _isUseInnerZepto?void 0:"function"==typeof window.Zepto?void(tvp.$=window.Zepto):"function"==typeof window.jQuery&&"function"==typeof window.jQuery.Deferred?(tvp.$=window.jQuery,void(!tvp.$.os&&"undefined"!=typeof Zepto&&Zepto.__detect&&Zepto.__detect.call(tvp.$,navigator.userAgent))):void("function"==typeof window.jq&&(tvp.$=window.jq,!tvp.$.os&&"undefined"!=typeof Zepto&&Zepto.__detect&&Zepto.__detect.call(tvp.$,navigator.userAgent)))}(),function(){"undefined"==typeof document.DOCUMENT_NODE&&(document.DOCUMENT_NODE=9)}(),function(a){function b(b){var c=b.match(/MQQBrowser\/(\d+\.\d+)/i),d=b.match(/QQ\/(\d+\.(\d+)\.(\d+)\.(\d+))/i)||b.match(/V1_AND_SQ_([\d\.]+)/),e=b.match(/MicroMessenger\/((\d+)\.(\d+))\.(\d+)/)||b.match(/MicroMessenger\/((\d+)\.(\d+))/),f=b.match(/Mac\sOS\sX\s(\d+\.\d+)/),g=b.match(/Windows(\s+\w+)?\s+?(\d+\.\d+)/),h=b.match(/MiuiBrowser\/(\d+\.\d+)/i),i=b.match(/MI-ONE/),j=b.match(/MI PAD/),k=b.match(/UCBrowser\/(\d+\.\d+(\.\d+\.\d+)?)/)||b.match(/\sUC\s/),l=b.match(/IEMobile(\/|\s+)(\d+\.\d+)/)||b.match(/WPDesktop/),m=b.match(/(ipod).*\s([\d_]+)/i),n=b.match(/(ipad).*\s([\d_]+)/i),o=b.match(/(iphone)\sos\s([\d_]+)/i),p=b.match(/Chrome\/(\d+\.\d+)/),q=b.match(/Mozilla.*Linux.*Android.*AppleWebKit.*Mobile Safari/),r=b.match(/(android)\s([\d\.]+)/i);b.indexOf("HTC")>-1;if(a.browser=a.browser||{},a.os=a.os||{},window.ActiveXObject){var s=6;(window.XMLHttpRequest||b.indexOf("MSIE 7.0")>-1)&&(s=7),(window.XDomainRequest||b.indexOf("Trident/4.0")>-1)&&(s=8),b.indexOf("Trident/5.0")>-1&&(s=9),b.indexOf("Trident/6.0")>-1&&(s=10),a.browser.ie=!0,a.browser.version=s}else b.indexOf("Trident/7.0")>-1&&(a.browser.ie=!0,a.browser.version=11);r&&(this.os.android=!0,this.os.version=r[2]),m&&(this.os.ios=this.os.ipod=!0,this.os.version=m[2].replace(/_/g,".")),n&&(this.os.ios=this.os.ipad=!0,this.os.version=n[2].replace(/_/g,".")),o&&(this.os.iphone=this.os.ios=!0,this.os.version=o[2].replace(/_/g,".")),g&&(this.os.windows=!0,this.os.version=g[2]),f&&(this.os.Mac=!0,this.os.version=f[1]),b.indexOf("lepad_hls")>0&&(this.os.LePad=!0),j&&(this.os.MIPAD=!0),c&&(this.browser.MQQ=!0,this.browser.version=c[1]),d&&(this.browser.MQQClient=!0,this.browser.version=d[1]),e&&(this.browser.WeChat=!0,this.browser.version=e[1]),h&&(this.browser.MIUI=!0,this.browser.version=h[1]),k&&(this.browser.UC=!0,this.browser.version=k[1]||NaN),l&&(this.browser.IEMobile=!0,this.browser.version=l[2]),q&&(this.browser.AndriodBrowser=!0),i&&(this.browser.M1=!0),p&&(this.browser.Chrome=!0,this.browser.version=p[1]),this.os.windows&&("undefined"!=typeof navigator.platform&&"win64"==navigator.platform.toLowerCase()?this.os.win64=!0:this.os.win64=!1);var t={iPad7:"iPad; CPU OS 7",LePad:"lepad_hls",XiaoMi:"MI-ONE",SonyDTV:"SonyDTV",SamSung:"SAMSUNG",HTC:"HTC",VIVO:"vivo"};for(var u in t)this.os[u]=-1!==b.indexOf(t[u]);a.os.phone=a.os.phone||/windows phone/i.test(b),this.os.getNumVersion=function(){return parseFloat(a.os.version,"10")},this.os.hasTouch="ontouchstart"in window,this.os.hasTouch&&this.os.ios&&this.os.getNumVersion()<6&&(this.os.hasTouch=!1),a.browser.WeChat&&a.browser.version<5&&(this.os.hasTouch=!1),a.extend(a.browser,{getNumVersion:function(){return parseFloat(a.browser.version,"10")},isFFCanOcx:function(){return a.browser.firefox&&a.browser.getNumVersion()>=3?!0:!1},isCanOcx:function(){return!(!a.os.windows||!a.browser.ie&&!a.browser.isFFCanOcx()&&!a.browser.webkit)},isNotIESupport:function(){return!!a.os.windows&&(!!a.browser.webkit||a.browser.isFFCanOcx())}}),a.userAgent={},a.extend(a.userAgent,a.os),a.extend(a.userAgent,a.browser),a.userAgent.browserVersion=a.browser.version,a.userAgent.osVersion=a.os.version,delete a.userAgent.version}b.call(a,navigator.userAgent)}(tvp.$),function($){var extFun={getByID:function(a){return document.getElementById(a)},noop:function(){},isString:function(a){return"string"===$.type(a)},isUndefined:function(a){return"undefined"===$.type(a)},now:function(){return(new Date).getTime()},getISOTimeFormat:function(){var a=new Date,b=a.getFullYear(),c=a.getMonth()+1,d=a.getDate(),e=a.getHours(),f=a.getMinutes(),g=a.getSeconds();return[[b,10>c?"0"+c:c,10>d?"0"+d:d].join("-"),[10>e?"0"+e:e,10>f?"0"+f:f,10>g?"0"+g:g].join(":")].join(" ")},formatSeconds:function(a){a=parseInt(a);var b=parseInt(a/60),c=b>=60?parseInt(b/60):0,d=a%60,e="";return b>=60&&(b%=60),c>0&&(e+=10>c?"0"+c:c,e+=":"),e+=10>b?"0"+b:b,e+=":",e+=10>d?"0"+d:d},formatSecondsWithText:function(a){var b=this.formatSeconds(a),c=b.split(":"),d="";switch(c.length){case 1:d=c[0]+"\u79d2";break;case 2:d=c[0]+"\u5206"+c[1]+"\u79d2";break;case 3:d=c[0]+"\u5c0f\u65f6"+c[1]+"\u5206"+c[2]+"\u79d2";break;default:d=b}return d},formatFileSize:function(a){return a=parseInt(a,10),a=a/1024/1024,a=a.toFixed(1),a+"M"},getHost:function(){var a=window.location.hostname||window.location.host,b=location.host.split(".");return b.length>1&&(a=b.slice(b.length-2).join(".")),a},getUrlParam:function(a,b){b=b||document.location.toString();var c=new RegExp("(^|&|\\\\?)"+a+"=([^&]*)(&|$|#)"),d=null;return(d=b.match(c))?d[2]:""},setUrlParam:function(a,b,c){c=c||location.href;var d,e,f=new RegExp("[?&#]"+a+"=([^&#]+)","gi"),g=c.match(f),h="{key"+(new Date).getTime()+"}";if(d=g&&g.length>0?g[g.length-1]:"",e=a+"="+b,d){var i=d.charAt(0);c=c.replace(d,h),c=c.replace(h,b?i+e:"")}else b&&(c+=c.indexOf("?")>-1?"&"+e:"?"+e);return c},filterXSS:function(a){return $.isString(a)?a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&apos;"):a},createGUID:function(a){a=a||32;for(var b="",c=1;a>=c;c++){var d=Math.floor(16*Math.random()).toString(16);b+=d}return b},newGuid:function(){function a(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return[a(),a(),a(),a(),a(),a(),a(),a()].join("")},formatSize:function(a){var b=""+a;return b.indexOf("%")>0?b:b.indexOf("px")>0?b:/^\d+$/.test(b)?b+"px":b},compareVersion:function(a,b){a=String(a).split("."),b=String(b).split(".");try{for(var c=0,d=Math.max(a.length,b.length);d>c;c++){var e=isFinite(a[c])&&Number(a[c])||0,f=isFinite(b[c])&&Number(b[c])||0;if(f>e)return-1;if(e>f)return 1}}catch(g){return-1}return 0},isTrue:function(v){return eval(tvp.$.filterXSS(v))},loadPluginCss:function(a){var b="",c=tvp.defaultConfig.pluginCssUrl;return a in c&&(b=tvp.defaultConfig.cssPath+c[a]),$.loadCss(b)},getData:function(a,b){return window.localStorage?window.localStorage[a]:void 0},setData:function(a,b){return window.localStorage?(window.localStorage[a]=b,!0):void 0},delData:function(a){return window.localStorage?(window.localStorage.removeItem(a),!0):void 0},formatTpl:function(a,b){if(a&&"object"===$.type(b)){for(var c in b)for(var d="${"+c+"}";a.indexOf(d)>-1;)a=a.replace(d,b[c]);return a}},loadCss:function(a){var b=$.Deferred(),c=!1;if(a){for(;a.indexOf("../")>=0;)a=a.replace("../","");a=$.filterXSS(a);var d=document,e=d.getElementsByTagName("head")[0]||d.documentElement,f=e.getElementsByTagName("base")[0],g=d.createElement("link");g.rel="stylesheet",g.href=a,g.onload=g.onerror=function(){g.onload=g.onerror=null,c=!0,b.resolve()},setTimeout(function(){c||b.resolve()},2500),f?e.insertBefore(g,f):e.appendChild(g)}else b.reject();return b}};$.extend($,extFun)}(tvp.$),function(a){a.cookie={set:function(a,b,c,d,e){if(e){var f=new Date,g=new Date;g.setTime(f.getTime()+36e5*e)}return document.cookie=a+"="+b+"; "+(e?"expires="+g.toGMTString()+"; ":"")+(d?"path="+d+"; ":"path=/; ")+(c?"domain="+c+";":"domain="+window.location.host+";"),!0},get:function(a){var b=new RegExp("(?:^|;+|\\s+)"+a+"=([^;]*)"),c=document.cookie.match(b);return c?c[1]:""},del:function(a,b,c){var d=new Date;d.setTime(d.getTime()-1),document.cookie=a+"=; expires="+d.toGMTString()+";"+(c?"path="+c+"; ":"path=/; ")+(b?"domain="+b+";":"domain="+window.location.host+";")}}}(tvp.$),tvp=tvp||{},tvp.common={isUseHtml5:function(){var a=navigator.userAgent,b=(tvp.version.getFlashMain(),null);if(/ipad|ipod|iphone|lepad_hls|IEMobile|WPDesktop/gi.test(a))return!0;if(tvp.$.os.android){if(tvp.common.isSupportMP4())return!0;if(tvp.$.browser.MQQ&&tvp.$.browser.getNumVersion()>=4.2)return!0;if(-1!=a.indexOf("MI2"))return!0;if(tvp.$.os.version>="4"&&(b=a.match(/MicroMessenger\/((\d+)\.(\d+))\.(\d+)/))&&b[1]>=4.2)return!0;if(tvp.$.os.version>="4.1")return!0}return!1},isInUseH5:function(){var a=navigator.userAgent,b=null;if(tvp.$.os.android){if(tvp.$.browser.MQQ&&tvp.$.browser.getNumVersion()>=4.2)return!0;if(-1!=a.indexOf("MI2"))return!0;if(tvp.$.os.version>="4"&&(b=a.match(/MicroMessenger\/((\d+)\.(\d+))\.(\d+)/))&&b[1]>=4.2)return!0;if(tvp.$.os.version>="4.1")return!0}},isUseHLS:function(){return tvp.$.os.ios?!0:void 0},isMac:function(){var a=/MacIntel/gi.test(navigator.platform.toLowerCase());return a},isLiveUseHTML5:function(){return tvp.$.os.ios?!0:tvp.$.os.ipad?!0:tvp.$.os.android&&tvp.common.isSupportM3u8()?!0:!1},isSupportM3u8:function(){var a=document.createElement("video"),b=["application/x-mpegURL","audio/mpegurl","vnd.apple.mpegURL","application/vnd.apple.mpegURL"],c=!1;return"function"==typeof a.canPlayType&&tvp.$.each(b,function(b,d){return a.canPlayType(d)?void(c=!0):void 0}),a=null,tvp.$.os.android&&(tvp.$.os.version>="4"&&tvp.$.browser.Chrome&&(c=!0),tvp.$.browser.M1&&(c=!1),/V8 Build/.test(navigator.userAgent)&&(c=!1),tvp.$.browser.MQQ&&tvp.$.browser.getNumVersion()>=4.2&&(c=!0)),c},isSupportMP4:function(){var a=document.createElement("video");if("function"==typeof a.canPlayType){if("probably"==a.canPlayType('video/mp4; codecs="mp4v.20.8"'))return!0;if("probably"==a.canPlayType('video/mp4; codecs="avc1.42E01E"')||"probably"==a.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"'))return!0}return!1},isSupportSVG:function(){return document.implementation&&tvp.$.isFunction(document.implementation.hasFeature)?document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"):!1},isEnforceMP4:function(){navigator.userAgent;if(tvp.$.os.android){if(tvp.$.browser.firefox)return!0;if(tvp.$.browser.chrome)return!1;if(tvp.$.os.version>="4.0"&&tvp.$.browser.MQQ&&tvp.$.browser.version<"4.0")return!0}return!1},getUin:function(a){var b=tvp.$.cookie.get("skey"),c=tvp.$.cookie.get("lskey"),d="",e=0,f=!1;return"undefined"==typeof isLeak&&"undefined"!=typeof a&&(isLeak=a),isLeak="undefined"==typeof isLeak?!1:!0,f=!!isLeak&&""!=c,f||""!=b?(d=tvp.$.cookie.get("uin"),""==d&&f&&(d=tvp.$.cookie.get("luin")),e=parseInt(d.replace(/^o0*/g,""),10),isNaN(e)||1e4>=e?0:e):0},getSKey:function(a){var b=tvp.$.cookie.get("skey"),c=tvp.$.cookie.get("lskey"),d="";return"undefined"==typeof isLeak&&("undefined"!=typeof a?isLeak=a:isLeak=!1),d=isLeak?""!=b&&""!=c?[b,c].join(";"):b||c:b},getToken:function(a){var b=this.getSKey(a),c=this.time33(b);return c},time33:function(a){for(var b=0,c=a.length,d=5381;c>b;++b)d+=(d<<5)+a.charAt(b).charCodeAt();return 2147483647&d},openLogin:function(){},getVideoSnap:function(a,b){var c,d,e=1e8;if(a.indexOf("_")>0){var f=a.split("_");a=f[0],b=parseInt(f[1])}for(var g=4294967296,e=1e8,h=0,i=0;i<a.length;i++){var j=a.charCodeAt(i);h=32*h+h+j,h>=g&&(h%=g)}return d=h%e,void 0==b&&(b=0),c=0==b?["http://vpic.video.qq.com/",d,"/",a,"_160_90_3.jpg"].join(""):["http://vpic.video.qq.com/",d,"/",a,"_","160_90_",b,"_1.jpg"].join("")},getVideoSnapMobile:function(a,b){b=b||0;var c=["496_280"],d="http://shp.qpic.cn/qqvideo_ori/0/{vid}_{index}/0";return d.replace("{vid}",a).replace("{index}",c[b])},picerr:function(a){},getDeviceId:function(){var a=tvp.DEVICE.other;return tvp.$.os.iphone?a=tvp.DEVICE.iphone:tvp.$.os.ipad?a=tvp.DEVICE.ipad:tvp.$.os.android&&tvp.$.os.phone&&(a=tvp.DEVICE.aphone),a},getPlatformId:function(){var a=tvp.PLATFORM.other;return tvp.$.browser.WeChat?a=tvp.PLATFORM.wechat:tvp.$.browser.MQQClient?a=tvp.PLATFORM.mqq:tvp.$.browser.MQQ&&(a=tvp.PLATFORM.qqbrowser),a},getParams:function(a){for(var b,c,d=a.indexOf("?"),e=a.substring(d+1),f=/\w+=[^&]+/g,g={};null!==(b=f.exec(e));)c=b[0].split("="),c.length>=2&&(g[c.shift()]=c.join("="));return g},recomdTextById:function(a){if(a){if(this.recomdText||(this.recomdText={}),this.recomdText[a]&&"string"==typeof this.recomdText[a])return this.recomdText[a];var b,c=tvp.$.Deferred(),d=this,e=50;return e=0,e&&100*Math.random()>e?(c.resolve(),c):(b=tvp.common.get_request_url("like")+"?callback=?",tvp.$.ajax({url:b,data:{id:a,uin:0,playright:7,msgtype:103,otype:"json",tablist:9}}).done(function(b){b&&b.rmdword?(d.recomdText[a]=b,c.resolve()):c.resolve()}).fail(function(){c.resolve()}),setTimeout(function(){c.resolve()},5e3),c)}},get_hostname_fromUrl:function(a){if(a){var b=document.createElement("a");return b.href=a,b.hostname}},get_css_path:function(){return"//imgcache.qq.com/tencentvideo_v1/vstyle/mobile/v2/style/"},get_js_path:function(){return"//imgcache.qq.com/tencentvideo_v1/tvp/"},get_request_url:function(a){var b={getinfo:["http://h5vv.video.qq.com/getinfo","https://sec.video.qq.com/p/h5vv.video/getinfo"],getkey:["http://h5vv.video.qq.com/getkey","https://sec.video.qq.com/p/h5vv.video/getkey"],limit_conf:["http://v.qq.com/iframe/limit_conf.js","https://v.qq.com/iframe/limit_conf.js"],zb:["http://info.zb.qq.com","https://sec.video.qq.com/p/info.zb/"],swf_root:["http://imgcache.qq.com/tencentvideo_v1/player/","https://imgcache.qq.com/tencentvideo_v1/player/"],rmd_mobile:["http://like.video.qq.com/fcgi-bin/rmd_mobile","https://sec.video.qq.com/p/like.video/fcgi-bin/rmd_mobile"],like:["http://like.video.qq.com/fcgi-bin/like","https://sec.video.qq.com/p/like.video/fcgi-bin/like"],dataout_ex:["http://sns.video.qq.com/fcgi-bin/dlib/dataout_ex","https://sec.video.qq.com/p/sns.video/fcgi-bin/dlib/dataout_ex"],get_dtype:["http://h5vv.video.qq.com/getdtype","https://sec.video.qq.com/p/h5vv.video/getdtype"]};return"https:"===window.location.protocol?b[a][1]:b[a][0]},get_chid:function(){var a;return/(.*\.)3g\.qq\.com$/i.test(document.location.hostname)?a=13:"v.qq.com"===document.location.hostname?a=0:1===tvp.app.pageType?a=3:2===tvp.app.pageType&&(a=10),a},get_stdfrom:function(){var a="view.inews.qq.com"===location.host,b=tvp.$;return b.os.iphone||b.os.ipod?a?"v3110":"v3010":b.os.ipad?a?"v4110":"v4010":b.os.android?b.os.tablet?"v6010":a?"v5110":"v5010":b.browser.IEMobile?"v7010":"v1010"},get_platform:function(){var a=tvp.$;return a.os.iphone?1:a.os.ipad?2:a.os.android?3:4}},tvp.version=function(){function a(a){if(b(a))return a;if(/\d+/i.test(a)){var c=parseInt(a/1e4/100,10),d=parseInt(a/1e4,10)-100*c,e=parseInt(a,10)-(100*c*1e4+1e4*d);return strVer=c+"."+d+"."+e,strVer}return a}function b(a){return/^(\d+\.){2}\d+(\.\d+)?$/.test(a)}var c,d="0.0.0.0",e="0.0.0",f=new Image,g=!1,h=!1;return"film.qq.com"==document.location.host&&(h=!0),{getOcx:function(b){if(tvp.$.isUndefined(b)&&(b=!0),b&&"0.0.0.0"!=d)return d;var e;if(tvp.$.browser.ie)try{e="IE begin",c=new ActiveXObject(QQLive.config.PROGID_QQLIVE_INSTALLER),"undefined"!=typeof c.getVersion?(d=c.GetVersionByClsid(QQLive.config.OCX_CLSID),e="get actObj.GetVersionByClsid:"+d):e="no function:actObj.GetVersionByClsid"}catch(i){h&&!g&&(g=!0)&&(f.src="http://btrace.qq.com/collect?sIp=&iQQ="+tvp.common.getUin()+"&sBiz=IE&sOp="+encodeURIComponent(navigator.userAgent)+"&iSta=0&iTy=2432&iFlow=&sUrl="+encodeURIComponent(location.toString())+"&sRef="+encodeURIComponent(document.referrer)+"&sMsg="+encodeURIComponent(i.message)+"&sStep="+encodeURIComponent(e)+"&_="+Math.random())}else if(tvp.$.browser.isNotIESupport()){e="no IE begin";var j,k=navigator.plugins;if(tvp.$.isUndefined(k.namedItem)||(e="plugs.namedItem",j=k.namedItem("\u817e\u8baf\u89c6\u9891")),!j){e="no plugs.namedItem:tencentvideo";for(var l=0,m=k.length;m>l;l++)if(k[l]&&"\u817e\u8baf\u89c6\u9891"==k[l].name||"npQQLive.dll"==k[l].filename){j=k[l];break}}if(j)if(tvp.$.isUndefined(j.version)){e="plug.description:"+j.description;var n,o=j.description;(n=o.match(/version:((\d+\.){3}(\d+)?)/))&&(d=n[1])}else e="plug.version:"+j.version,d=j.version;else e="no plugs[i].filename:npQQLive.dll"}return parseInt(d,10)||h&&!g&&(g=!0)&&(f.src="http://btrace.qq.com/collect?sIp=&iQQ="+tvp.common.getUin()+"&sBiz="+(tvp.$.browser.ie?"IE":"NOIE")+"&sOp="+encodeURIComponent(navigator.userAgent)+"&iSta=0&iTy=2432&iFlow=&sUrl="+encodeURIComponent(location.toString())+"&sRef="+encodeURIComponent(document.referrer)+"&sMsg="+d+"&sStep="+encodeURIComponent(e)+"&_="+Math.random()),d=a(d)},getFlash:function(){if("0.0.0"!=e)return e;var a=null,b=null,c=[],d="Shockwave Flash",i=navigator,j="application/x-shockwave-flash";if(tvp.$.browser.ie)try{var k="IE begin";a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),k="new ActiveXObject",a&&(b=a.GetVariable("$version"),k="swf.GetVariable",b&&(b=b.split(" ")[1].split(","),c=[parseInt(b[0],10),parseInt(b[1],10),parseInt(b[2],10)]))}catch(l){h&&!g&&(g=!0)&&(f.src="http://btrace.qq.com/collect?sIp=&iQQ="+tvp.common.getUin()+"&sBiz=IE&sOp="+encodeURIComponent(navigator.userAgent)+"&iSta=1&iTy=2432&iFlow=&sUrl="+encodeURIComponent(location.toString())+"&sRef="+encodeURIComponent(document.referrer)+"&sMsg="+encodeURIComponent(l.message)+"&sStep="+encodeURIComponent(k)+"&_="+Math.random())}else if(!tvp.$.isUndefined(i.plugins)&&"object"==typeof i.plugins[d]){var k="no IE begin";b=i.plugins[d].description,k="plugins[S].description",b&&(tvp.$.isUndefined(i.mimeTypes)||!i.mimeTypes[j]||i.mimeTypes[j].enabledPlugin)?(k="parse description",b=b.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),c[0]=parseInt(b.replace(/^(.*)\..*$/,"$1"),10),c[1]=parseInt(b.replace(/^.*\.(.*)\s.*$/,"$1"),10),c[2]=/[a-zA-Z]/.test(b)?parseInt(b.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0):k="no mimeTypes or disable"}return e=c.join("."),parseInt(e,10)||h&&!g&&(g=!0)&&(f.src="http://btrace.qq.com/collect?sIp=&iQQ="+tvp.common.getUin()+"&sBiz="+(tvp.$.browser.ie?"IE":"NOIE")+"&sOp="+encodeURIComponent(navigator.userAgent)+"&iSta=1&iTy=2432&iFlow=&sUrl="+encodeURIComponent(location.toString())+"&sRef="+encodeURIComponent(document.referrer)+"&sMsg="+e+"&sStep="+encodeURIComponent(k)+"&_="+Math.random()),e},getFlashMain:function(){return parseInt(tvp.version.getFlash().split(".")[0],10)}}}(),function(a,b){var c={qqlive:{text1:"\u817e\u8baf\u89c6\u9891\u5ba2\u6237\u7aef",text2:"\u53ef\u89c2\u770b\u66f4\u591a\u89c6\u9891",md5Cgi:"http://mcgi.v.qq.com/commdatav2?cmd=39&otype=json&confid=${id}",payUrl:"http://film.qq.com/weixin/detail/${index}/${cid}.html",scheme:"tenvideo2://",logoClass:"",openUrl:"tenvideo2://?action=5&video_id=${vid}",liveOpenUrl:"tenvideo2://?action=8&channel_id=${lid}",ipadDownloadUrl:"https://itunes.apple.com/cn/app/teng-xun-shi-pinhd/id407925512?mt=8",iphoneDownloadUrl:"http://itunes.apple.com/cn/app/id458318329?mt=8",aphoneDownloadUrl:"http://mcgi.v.qq.com/commdatav2?cmd=4&confid=140&platform=aphone",VIA:"ANDROIDQQ.QQLIVE",appId:"100730521",downloadId:"TencentVideo",taskName:"TencentVideo",packageName:b.os.iphone?"com.tencent.live4iphone":"com.tencent.qqlive",packageUrl:"tenvideo2://can_open_me_if_install_and_regeister_this_scheme"},weishi:{text1:"\u5fae\u89c6\u5ba2\u6237\u7aef",text2:"\u53d1\u73b0\u66f4\u591a\u7cbe\u5f69",logoClass:"tvp_download_app_solo_weishi",md5Cgi:"http://www.weishi.com/api/packdata.php?confid=${id}",scheme:b.os.iphone?" weishiiosscheme://":"weishiandroidscheme://",openUrl:b.os.iphone?" weishiiosscheme://detail?tweetid=${id}":"weishiandroidscheme://detail?tweetid=${id}",iphoneDownloadUrl:"http://www.weishi.com/download/index.php?pgv_ref=weishi.shipin.xinwenfenxiang",aphoneDownloadUrl:"http://www.weishi.com/download/index.php?pgv_ref=weishi.shipin.xinwenfenxiang",ipadDownloadUrl:"",VIA:"ANDROIDQQ.WEISHI",appId:"1101083114",downloadId:"TencentWeishi",taskName:"TencentWeishi",packageName:b.os.iphone?"com.tencent.microvision":"com.tencent.weishi",packageUrl:b.os.iphone?"weishiiosscheme://can_open_me_if_install_and_regeister_this_scheme":"weishiandroidscheme://can_open_me_if_install_and_regeister_this_scheme"},yyb:{packageName:"com.tencent.android.qqdownloader"}};a.app={config:{defaultName:"qqlive",QQApiUrl:"http://pub.idqqimg.com/qqmobile/qqapi.js",mqqApiUrl:"http://res.imtt.qq.com/browser_lightapp/QQBrowserApi/getCryptext/browser_interface_getCryptext.js"},loadQQClientDefer:!1,loadDownloaderDefer:!1,loadMqqDefer:!1,getDownloadUrl:function(d,e){return e=e||a.app.config.defaultName,d=b.os.iphone?c[e].iphoneDownloadUrl:d||c[e].aphoneDownloadUrl,d=b.os.ipad?c[e].ipadDownloadUrl:d},getPayUrl:function(a){var d=b.formatTpl(c.qqlive.payUrl,{index:a.slice(0,1),cid:a});return d},getOpenUrl:function(d){var e={},f=!1;if(!d)return f;if(d.appName&&d.appName!==a.app.config.defaultName)return f=d.openId?c[d.appName].openUrl.replace("${id}",d.openId):c[d.appName].scheme;switch(d.lid?e.channel_id=d.lid:d.cid?e.cover_id=d.cid:d.tid?e.topic_id=d.tid:d.vidArray||!d.vid?e.video_id="${vid}":d.vid&&(e.video_id=d.vid),d.vid2&&(e.video_id=d.vid2),d.openType){case 6:d.cid&&(e.action=1);break;case 2:d.lid?e.action=8:e.action=7;break;case 3:d.lid?e.action=8:d.tid?e.action=6:e.action=5;break;case 4:d.cid&&(e.action=1);break;default:d.lid?e.action=8:d.cid?e.action=1:e.action=5}if(d.promotionId&&(e.from=d.promotionId+"_"+(d.contentId?d.contentId:"")),e.action=e.action||5,f=c.qqlive.scheme+"?"+decodeURIComponent(b.param(e)),(d.cid||d.h5Url)&&parseInt(d.pay)){var g=d.cid?a.app.getPayUrl(d.cid):d.h5Url;b.os.iphone?(f=g,d.openUrl=f):d.version&&parseInt(d.version)<5852&&(f=g)}return f!==g&&d.openUrl&&(f=b.filterXSS(d.openUrl),f.indexOf("from")<0&&f.indexOf("?")>-1&&d.promotionId&&(f+="&from="+d.promotionId+"_"+(d.contentId?d.contentId:""))),f},getPackageInfo:function(){return c},pageType:function(){return b.browser.WeChat?1:b.browser.MQQClient?2:b.browser.MQQ?3:0}(),isSupportApp:function(){return b.os.iphone||b.os.ipod||b.os.ipad?!0:b.os.android?!0:!1}(),unbindTryOpenAppBanner:function(a){a?a.noTryOpen=!0:""},bindTryOpenAppBanner:function(c){if(c&&!([2,3].indexOf(a.app.pageType)>-1||1===a.app.pageType&&(window!==top&&top.location.href||window===top))){var d=a.$.os.hasTouch?"touchend":"click",e=c.$btn,f=e.attr("data-url"),g=!1,h=function(){var b=navigator.userAgent;return a.$.os.android||a.$.os.ios?-1!=b.indexOf("qqnews/")?!1:a.$.os.android&&g?!1:/^http|https/g.test(f)?!1:!0:!1};if(!h())return!1;e.bind("touchend click",function(a){c.noTryOpen||a.preventDefault()});var i=!1;e.bind("touchstart",function(){i=!1}).bind("touchmove",function(){i=!0}),e.bind(d,function(d){if(d.preventDefault(),!i){var e,f=d.target;e="a"===f.tagName.toLowerCase()?b(f):b(f).parents("a"),c.noTryOpen||a.app.tryOpenAppBanner(e)}})}},tryOpenAppBanner:function(a){if(a.length){var b=a.attr("href"),c=a.attr("data-url"),d=function(){location.href=b},e=function(){var a=document.createElement("iframe");a.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;opacity:0;",a.src=c,document.body.appendChild(a)};e();var f=(new Date).valueOf();setTimeout(function(){var a=(new Date).valueOf();1550>a-f&&d()},1500)}},loadMqqAPI:function(){if(a.app.loadMqqDefer)return a.app.loadMqqDefer;var c=b.Deferred();if(a.app.loadMqqDefer=c,window.x5)c.resolve();else{var d=this.config.mqqApiUrl;b.getScript(d,function(){window.x5?c.resolve():c.reject()})}return setTimeout(function(){c.reject()},3e3),c},invokeQQBrowserAPI:function(c){function d(){if(window.x5&&x5.ios&&x5.ios.getMobileAppSupport){var a={scheme:c.packageInfo.packageUrl};x5.ios.getMobileAppSupport(a,function(a){e.resolve(a&&1==a.isSupportApp?1:0)},function(){e.resolve(0)})}else e.resolve(0);setTimeout(function(){e.resolve(0)},300)}if(!b.os.iphone&&window.QQApi&&QQApi.checkAppInstalled)return this.invokeQQClientAPI(c);var e=b.Deferred();if(!b.os.iphone&&window.x5mtt&&window.x5mtt.isApkInstalled){var f=window.x5mtt.isApkInstalled('{"packagename": '+c.packageInfo.packageName+"}");e.resolve(-1!=f?1:0)}else b.os.iphone&&parseInt(b.os.version)>5?a.app.loadMqqAPI().done(function(){d()}).fail(function(){e.resolve(0)}):e.resolve(0);return setTimeout(function(){e.resolve(0)},3e3),e},getQQBrowserSignKey:function(c,d){var e=a.app,f=e.pageType,g=new b.Deferred,h=this.loadMqqAPI();return 3!=f?void g.resolve(0):(h.done(function(){if(!window.x5||!a.$.os.ios)return void g.resolve(0);if(!x5.ios||!x5.ios.getBrowserSignature)return void g.resolve(0);var b={vid:c};d&&(b.timestamp=parseInt((new Date).valueOf()/1e3)),x5.ios.getBrowserSignature(b,function(a){a&&a.key&&a.ver&&a.platform?g.resolve({key:a.key,ver:a.ver,platform:a.platform}):g.resolve(0)},function(a){g.resolve(0)})}),h.fail(function(){g.resolve(0)}),g)},mqqBuoLuoAuth:function(a){var c,d=b.Deferred();try{window.getBrowserSignature(a,function(a){if(a&&a.data)try{var b=JSON.parse(a.data);b&&b.result&&b.result.token&&(c=b.result.token)}catch(e){}d.resolve(c)}),setTimeout(function(){d.reject()},5e3)}catch(e){d.reject()}return d},kuaiBaoAppAuth:function(a,c){var d=b.Deferred(),e="undefined"!=typeof c?c+"":parseInt(+new Date/1e3)+"",f="TVP_KUAIBAO_CB_"+e.substr(-4,4);window[f]=function(a){var b;try{b=JSON.parse(a)}catch(c){}d.resolve(b)};var g=function(){var b={method:"getCKey",types:["string","string","string"],args:[a,e,f],instanceName:"TencentNewsScriptControllerJsInterface"},c="jsbridge://get_with_json_data?json="+encodeURIComponent(JSON.stringify(b))+"&_t="+e,d=new Image;d.src=c},h=function(){var b=function(){window.getBrowserSignature(a,e,f)};"function"==typeof window.getBrowserSignature?b():document.addEventListener("TencentNewsJSInjectionComplete",function(){b()})};return b.os.ios?h():b.os.android&&g(),setTimeout(function(){d.reject()},1e4),d},loadQQClientAPI:function(){if(a.app.loadQQClientDefer)return a.app.loadQQClientDefer;var c=b.Deferred();if(a.app.loadQQClientDefer=c,window.mqq||window.QQApi)c.resolve();else{var d=this.config.QQApiUrl;b.getScript(d,function(){c.resolve()})}return setTimeout(function(){c.reject()},3e3),c},invokeQQClientAPI:function(a){function c(){!e&&window.QQApi&&QQApi.checkAppInstalled?QQApi.checkAppInstalled(f,function(a){a&&0!=a?(a=a.split("."),a=a[a.length-1],d.resolve(1,a)):d.resolve(0)}):window.mqq&&mqq.app&&mqq.app.isAppInstalled?mqq.app.isAppInstalled(f,function(a){d.resolve(a?1:0)}):d.resolve(0)}var d=b.Deferred(),e=b.os.iphone,f=e?a.packageInfo.packageUrl:a.packageInfo.packageName;return this.loadQQClientAPI().done(function(){c()}).fail(function(){d.resolve(0)}),setTimeout(function(){d.resolve(0)},5e3),d},getAppMd5:function(d,e){d=d||140,e=e||a.app.config.defaultName;var f=b.Deferred(),g=c[e].md5Cgi.replace("${id}",d);return b.ajax({url:g,dataType:"jsonp"}).then(function(a){f.resolve(a&&a.data?a.data:a)}),f},report:function(c,d){var e={},d=d&&d.curVideo?d:!1;d&&(e={vid:d.curVideo.getVid()||d.curVideo.getChannelId(),appId:d.config.appid||d.config.appId,contentId:d.config.contentId}),c&&(c=b.extend(c,e),a.report(c))},invokeWeChatAPI:function(a){var c=b.Deferred(),d=this;return window!=top&&(WeixinJSBridge=top.WeixinJSBridge),WeixinJSBridge.invoke||c.resolve(0),d.getNetworkTypeInWechat().done(function(b){a&&a.t&&a.t.config&&(a.t.config.nettype=b)}),b.os.iphone?WeixinJSBridge.invoke("getInstallState",a.packageInfo,function(a){var b=a.err_msg;b.indexOf("get_install_state:yes")>-1?c.resolve(1):c.resolve(0)}):WeixinJSBridge.invoke("getInstallState",a.packageInfo,function(a){var b=a.err_msg;if(b.indexOf("get_install_state:yes")>-1){var d=b.split("yes_"),e=0;d.length>=2&&(e=parseInt(d[1],10)),e=isNaN(e)?0:e,c.resolve(1,e)}else c.resolve(0)}),setTimeout(function(){c.resolve(0)},6e3),c},getNetworkTypeInWechat:function(){var a=b.Deferred();return WeixinJSBridge.invoke("getNetworkType",{},function(b){var c=-1;b&&b.err_msg&&("network_type:fail"===b.err_msg&&(c=0),"network_type:wifi"===b.err_msg&&(c=1),"network_type:edge"===b.err_msg&&(c=2),"network_type:wwan"===b.err_msg&&(c=3)),a.resolve(c)}),a},check:function(d){var e=a.app,f=e.pageType,d=(b.os.iphone,d||{}),g=b.Deferred();if(d.appName=d.appName||a.app.config.defaultName,d.packageInfo=c[d.appName],1==f){var h=window==top?document:top.document;if(top.WeixinJSBridge)e.invokeWeChatAPI(d).then(function(a,b){g.resolve(e.buildResult(a,d,b))});else try{h.addEventListener("WeixinJSBridgeReady",function(){e.invokeWeChatAPI(d).then(function(a,b){g.resolve(e.buildResult(a,d,b))})})}catch(i){g.resolve(e.buildResult(0,d))}}else if(3==f)try{e.invokeQQBrowserAPI(d).then(function(a,b){g.resolve(e.buildResult(a,d,b));
})}catch(i){g.resolve(e.buildResult(0,d))}else if(2==f)try{e.invokeQQClientAPI(d).then(function(a,b){g.resolve(e.buildResult(a,d,b))})}catch(i){g.resolve(e.buildResult(0,d))}else g.resolve(e.buildResult(0,d));return g},loadDownloaderAPI:function(){if(a.app.loadDownloaderDefer)return a.app.loadDownloaderDefer;var c=b.Deferred();a.app.loadDownloaderDefer=c;var d="";return 1==this.pageType&&(d=a.defaultConfig.libpath+a.defaultConfig.pluginUrl.AppDownloadClickWechat),2==this.pageType&&(d=a.defaultConfig.libpath+a.defaultConfig.pluginUrl.AppDownloadClickMqq),d||c.reject(),b.downloadClick_wechat||b.downloadClick_mqq?c.resolve():(b.getScript(d,function(){c.resolve()}),setTimeout(function(){c.reject()},3e3)),c},checkCanDownloader:function(a,c,d){function e(){b.downloadClick_wechat&&d&&b.downloadClick_wechat(d),b.downloadClick_mqq&&d&&b.downloadClick_mqq(d),f.resolve(1)}var f=b.Deferred();if(b.os.iphone||b.os.ipad||!c||1==a)return f.resolve(0),f;var g=!1,h=!1,i=/android/i.test(navigator.userAgent.toLowerCase());return!i||1==a||!c.downloader||c.downloadUrl&&!c.md5||!c.downloadUrl&&c.md5?(f.resolve(0),f):(b.isArray(c.range)&&b.each(c.range,function(a,b){1==b&&(g=!0),2==b&&(h=!0)}),c.downloaderCallback||(g=!0,h=!0),b.browser.WeChat&&g||b.browser.MQQClient&&h?this.loadDownloaderAPI().done(function(){e()}).fail(function(){f.resolve(0)}):f.resolve(0),f)},buildResult:function(c,d,e){var f="",g=this.pageType,h=b.os.iphone;b.os.ipad;d.version=e;var i=a.app.getOpenUrl(d),j=this;return h&&!d.openUrl&&(1==g&&(i+="&callback=weixin%3A%2F%2F&sender=%e5%be%ae%e4%bf%a1"),2==g&&(i+="&callback=mqqapi%3A%2F%2F&sender=%E6%89%8B%E6%9C%BAQQ"),3==g&&(i+="&callback=mqqbrowser%3A%2F%2F&sender=QQ%E6%B5%8F%E8%A7%88%E5%99%A8")),f=1==c?i:b.os.iphone&&d.pay&&d.cid?a.app.getPayUrl(d.cid):j.getDownloadUrl(d.downloadUrl,d.appName),{hasApp:c,pageType:g,os:h,version:e,openUrl:i,liveOpenUrl:i,url:f}}}}(tvp,tvp.$),tvp.PLAYER_DEFINE={LIVE:1,VOD:2},tvp.defaultConfig={video:null,width:600,height:450,autoplay:!1,mute:!1,volume:50,modId:"mod_player",playerid:"",coverId:"",typeId:0,pic:"",type:tvp.PLAYER_DEFINE.VOD,playerType:"auto",loadingswf:"",oid:"",share:!0,isHtml5UseHLS:"auto",isShowDurationLimit:!0,isHtml5AutoBuffer:!1,isHtml5UseAirPlay:!0,isHtml5ControlAlwaysShow:!1,html5Preload:"null",html5VodUIFeature:["controlbar","tips","title","meta","playpause","progress","timepanel","fullscreen","overlay","bigben","posterlayer","shadow","promotion","loadingAd","adonend","bullet"],html5LiveUIFeature:["controlbar","tips","playpause","fullscreen","overlay","posterlayer","shadow","bullet"],html5LiveFrontShow:["liveDownloader"],html5FeatureExtJS:{adonend:"//imgcache.qq.com/tencentvideo_v1/tvp/js/plugins/adonend.js?max_age=86400"},html5ForbiddenUIFeature:[],isHtml5UseUI:!0,HTML5CSSName:"",isHtml5ShowPosterOnStart:!0,isHtml5ShowPosterOnEnd:!1,isHtml5ShowPosterOnChange:!0,isiPhoneShowPosterOnPause:!0,isiPhoneShowPlaysinline:!0,isHtml5ShowPlayBtnOnPause:!0,isHtml5UseFakeFullScreen:!tvp.$.os.ios,isIOSVideoOffset:!0,isHtml5ShowLoadingAdOnStart:!tvp.$.os.phone,isHtml5ShowLoadingAdOnChange:!tvp.$.os.phone,isHtml5ShowLoadingAdOnReplay:!0,specialVideoFileDomain:"",flashWmode:"direct",vodFlashUrl:"",vodFlashType:"TPout",vodFlashExtVars:{},vodFlashListType:2,vodFlashSkin:"",isVodFlashShowCfg:!0,isVodFlashShowEnd:!0,isVodFlashShowSearchBar:!0,isVodFlashShowNextBtn:!0,liveFlashUrl:"",liveFlashSwfType:"TencentPlayerLive",isLiveFlashShowConfigBtn:!0,isLiveflashShowFullBtn:!0,isLiveFlashShowCfg:!0,liveFlashWatermark:"",liveFlashAppType:"",liveFlashExtVars:{},flashVersionTag:"20140714",ocxControlBar:"",ocxControlHeight:60,ocxSkin:"",isOcxShowPauseBtn:!1,isOcxHideControl:!1,plugins:{AppBanner:!1,AppRecommend:!1,AppDownloadOnPause:!1,AppBannerOnPause:!1,AppFollow:!1},pluginUrl:{AppBanner:"js/plugins/appbanner.js?v="+tvp.ts,AppFollow:"js/plugins/appfollow.js?v="+tvp.ts,AppRecommend:"js/plugins/apprecommend.js?v="+tvp.ts,AppRecommendBanner:"js/plugins/apprecommendbanner.js?v="+tvp.ts,AppDownloadOnPause:"js/plugins/appdownloadonpause.js?v="+tvp.ts,AppBannerOnPause:"js/plugins/appbanneronpause.js?v="+tvp.ts,AppDownloadClickWechat:"js/plugins/appdownloadclickwechat.js?v="+tvp.ts,AppDownloadClickMqq:"js/plugins/appdownloadclickmqq.js?v="+tvp.ts},cssPath:tvp.common.get_css_path(),pluginCssUrl:{},libpath:tvp.common.get_js_path(),noLimitBtn:!1,isContinuePlay:!0,h5VodBullet:!1,h5LiveBullet:!1},function(a){tvp=tvp||{},tvp.fastclick=function(b){var c=a(b),d={},e=a.os.hasTouch;e&&(c.attr("data-fastclick",1),c.on("touchstart",function(a){a=e?a.touches[0]:a,d.start=+new Date,d.tar=a.target,d.x1=a.pageX,d.y1=a.pageY}).on("touchend",function(b){if(b.preventDefault(),b&&b.changedTouches&&b.changedTouches.length){b=b.changedTouches[0];var c,e,f;return d.end=+new Date,d.x2=b.pageX,d.y2=b.pageY,c=Math.abs(d.x2-d.x1),e=Math.abs(d.y2-d.y1),f=d.end-d.start,30>c&&30>e&&300>f?(a(d.tar).trigger("fastclick"),!1):void 0}}))}}(tvp.$),function(a){var b=function(a,c){return function(d,e){var f=/\s/.test(d)?function(a){var b,d=[c],e=[[]];for(b in a)d.push(b),e.push(a[b]);return new Function(d,f.$).apply(a,e).join("")}:a[d]=a[d]||b(document.getElementById(d).innerHTML);return f.$=f.$||c+".push('"+d.replace(/\\/g,"\\\\").replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join(c+".push('").split("\r").join("\\'")+"');return "+c,e?f(e):f}}({},"$"+ +new Date);a.tmpl=b}(tvp.$),function(a){"undefined"==typeof a.getScript&&(a.getScript=function(a,b){var c=document.createElement("script"),d=document.getElementsByTagName("head")[0],e=/^(?:loaded|complete|undefined)$/;c.async="async",c.src=a,c.charset="utf-8",b&&(c.onload=c.onerror=c.onreadystatechange=function(){e.test(c.readyState)&&(c.onload=c.onerror=c.onreadystatechange=null,window.DEBUG||d.removeChild(c),c=null,b())}),d.appendChild(c)})}(tvp.$),tvp.report=function(){function a(){return 0==g.length?(e=!0,void(f=null)):(clearTimeout(d),b(g.splice(0,1)),void(e=!1))}function b(b){clearTimeout(d),f=document.createElement("img"),f.onerror=a,f.src=b,setTimeout(a,1e3)}function c(a){return a&&/^(?:ht|f)tp(?:s)?\:\/\/(?:[\w\-\.]+)\.\w+/i.test(a)?null==f?(b(a),void(e=!1)):e?(b(a),void(e=!1)):void g.push(a):void 0}var d,e=!0,f=null,g=[];return function(a){if(tvp.$.isString(a))return void c(a);if("object"==tvp.$.type(a)){var b,d={deviceId:"int1",platformId:"int2",appId:"int3",speed:"int4",contentId:"str1",fileName:"str2"},e={cmd:-1,url:window!=top?document.referrer:document.location.href,ver:tvp.ver.replace(/\$/g,""),ua:navigator.userAgent,int1:tvp.common.getDeviceId(),int2:tvp.common.getPlatformId(),int3:0,int4:0,str1:"",str2:tvp.filename},f="http://rcgi.video.qq.com/web_report?";for(b in d)b in a&&(a[d[b]]=a[b],delete a[b]);a=tvp.$.extend(e,a),f+=tvp.$.param(a),c(f)}}}(),tvp.ajax=function(a){function b(a,b){a=a||{},b=String(b);var c,d=/([\d\w_]+)/g;for(d.lastIndex=0;null!==(c=d.exec(b))&&(a=a[c[0]],void 0!==a&&null!==a););return a}function c(a){return a=a.slice(0,a.indexOf("?")),a=a.split("/"),{host:a[2],path:"/"+a.slice(3).join("/")}}function d(a,b,d,e){var f="http://c.isdspeed.qq.com/code.cgi",g=c(a);tvp.report(f,{domain:g.host,cgi:g.path,type:b,code:d,time:e})}function e(c,e){if("object"==a.type(c)&&c.url&&"string"==typeof c.url){"object"==typeof e&&(e=a.extend({key:"suc",value:0},e));var f=a.Deferred(),g=a.now(),h=0,i=a.extend({dataType:"jsonp"},c);return a.ajax(i).done(function(i){var j=i&&"object"==typeof e?b(i,e.key):0;h=a.now()-g,i&&"undefined"!=typeof j&&j==e.value?(d(c.url,1,j,h),f.resolve(i,h)):(d(c.url,3,j,h),f.resolve(i,h))}).fail(function(b){h=a.now()-g,d(c.url,2,900,h),f.reject(b,h)}),f}}return e}(tvp.$),tvp.reportErr=function(a,b){b=b||"tvperror";var c="http://rcgi.video.qq.com/report/jsbossrep?block="+b+"&ret=-1&level=4&msg=";a=[location.href,navigator.userAgent,tvp.filename,tvp.ver,a].join("|"),a=encodeURIComponent(a),c+=a,tvp.report(c)},tvp.bossReport={rcmdTextReport:function(a,b,c,d){var e,f,g,h,i;d=d||0,g=window.navigator.userAgent.toLowerCase(),f=g.indexOf("qzone")>-1,i=tvp.app.pageType,uin=tvp.common.getUin(),h=1===i?2:2===i?4:f?6:-1,e={oper:a,iplat:h,tab:b,rlist:c,host:location.hostname,url:top.location.href||window.location.href,rtype:0,ptype:21,uin:uin,int1:d,int2:tvp.common.getDeviceId()};var j=new Image,k="http://btrace.qq.com/kvcollect?BossId=2745&Pwd=0&_dc="+Math.random();k+="&"+tvp.$.param(e),j.src=k},window_error:function(a){var b={};if(b.filename=a.filename,b.lineno=a.lineno,b.colno=a.colno,b.msg=a.message,b.ua=navigator.userAgent,b.url=top.location.href,b.url=b.url?b.url:window.location.href,b.filename){var c=new Image,d="http://btrace.qq.com/kvcollect?BossId=2869&Pwd=637403767&_dc="+Math.random();d+="&"+tvp.$.param(b),c.src=d}},play_report:function(a){if(a&&!tvp.$.isEmptyObject(a)){var b="http://btrace.qq.com/kvcollect?BossId=2865&Pwd=1698957057&_dc="+Math.random();b+="&"+a.join("&"),tvp.report(b)}},user_action_report:function(a){var b={sop:a.actions,url:a.url||top.location.href,platform:tvp.common.getDeviceId(),vid:a.vid},c=new Image,d="http://btrace.qq.com/kvcollect?BossId=2797&Pwd=219856622&_dc="+Math.random();d+="&"+tvp.$.param(b),c.src=d},apprecommend_report:function(a){var b,c=tvp.app.pageType,d=window.navigator.userAgent.toLowerCase(),e=d.indexOf("qzone")>-1;b=1===c?2:2===c?4:e?6:-1;var f={oper:a.oper,tab:a.tab_id,vid:a.vid,rlist:a.rlist,page:a.page,url:top.location.href||window.location.href,iplat:b,ptype:21,rtype:1},g=new Image,h="http://btrace.qq.com/kvcollect?BossId=2745&Pwd=0&_dc="+Math.random();h+="&"+tvp.$.param(f),g.src=h},report_bullet_switch:function(a){a=a||{};var b=tvp.$;if(a.platform=b.os.android?1:b.os.iphone?2:b.os.ipad?3:4,a.url=window.location.href,"undefined"!==b.type(a.user_action)){var c="http://btrace.qq.com/kvcollect?BossId=3084&Pwd=1539562724&_dc="+Math.random();c+="&"+b.param(a),tvp.report(c)}},h5_live_quality:function(a){var b={step:a.step,sid:a.sid,vurl:a.vurl||"",guid:a.guid,playno:a.playno,vdef:a.vdef,tpay:a.tpay,cpay:a.cpay,fplayerver:tvp.ver,ftime:+new Date,ctime:+new Date,rtime:+new Date,sdtfrom:tvp.common.get_stdfrom(),platform:tvp.common.get_platform(),surl:location.href,sref:document.referrer,vip_type:"",adid:"",ptag:tvp.$.getUrlParam("ptag",location.href)},c="http://btrace.qq.com/kvcollect?BossId=3101&Pwd=1037836152&_dc="+Math.random();c+="&"+tvp.$.param(b),tvp.report(c)}},function(){"v.qq.com"==window.location.hostname&&(window.addEventListener?window.addEventListener("error",tvp.bossReport.window_error):window.attachEvent("onerror",tvp.bossReport.window_error))}(),tvp.retCode={snid:0,TYPE:{SUC:1,ERR:2},config:{cgi:"http://isdspeed.qq.com/cgi-bin/v.cgi",sampling:1},commCode:{error:11,MQzone_Err:12},report:function(a,b,c,d){if(a&&!(isNaN(b)||1>b)&&"undefined"!=typeof c){var e=this.config.cgi;e+="?flag1="+a.toString()+"&flag2="+b.toString()+"&1="+tvp.retCode.config.sampling+"&2="+c,d&&(e+="&flag3="+d.toString()),tvp.report(e)}}},tvp.RetCode=function(a){this.appid=a,this.timer={begin:0,end:0},this.SNID=tvp.retCode.snid,this.isReported=!1,tvp.retCode.snid++},tvp.RetCode.prototype={begin:function(){this.timer.begin=(new Date).valueOf()},end:function(){this.timer.end=this.timer.end||(new Date).valueOf()},report:function(a,b){if(!this.isReported){this.end();var c=this.timer.end-this.timer.begin;tvp.retCode.report(this.appid,a,c,b),this.isReported=!0}},reportSuc:function(){this.report(tvp.retCode.TYPE.SUC)},reportErr:function(a){a=a||tvp.retCode.commCode.error,this.report(tvp.retCode.TYPE.ERR,a)}},function(a,b){var c={poster:"",prefix:0,tail:0,tagStart:0,tagEnd:0,duration:"",historyStart:0,pay:0,eduext:0,classType:0,yyactid:0,coverId:"",title:"",isLookBack:0,tstart:0,CDNType:0,vFormat:"",LiveReTime:"",typeId:0,format:b.os.ipad||b.os.MIPAD?"mp4":"auto",channelExtParam:{},pid:"",rid:"",bulletId:"",bullet:!1,h5BulletId:"",freeFlowHelper:!1};a.VideoInfo=function(){function d(a){return a.indexOf("_")<0?a:a.split("_")[0]}function e(a){return a.indexOf("_")<0?0:parseInt(a.split("_")[1])}function f(a){for(var b=[],c=a.split("|"),e=0;e<c.length;e++)b.push(d(c[e]));return b.join("|")}function g(){p&&p instanceof a.Player&&p.on(a.ACTION.onVodH5Init,function(){var b;"auto"===p.config.isHtml5UseHLS&&a.common.isUseHLS()||p.config.isHtml5UseHLS||(b=n.getMP4Url(),n.callGetMp4UrlDefer.resolve(b))})}var h="",i="",j=0,k=0,l="",m="",n=this,o={},p=null,q={},r=null;b.extend(o,c),this.data={},this.url="",this.lastQueryVid="",this.callGetMp4UrlDefer=b.Deferred(),b.each(o,function(a,b){!new function(){var b=a.charAt(0).toUpperCase()+a.substr(1);n["set"+b]=function(b){return o[a]=b,this},n["get"+b]=function(){return o[a]}}}),this.setCurPlayer=function(a){p=a,g()},this.setVid=function(c){if(a.$.isString(c)){if(this.clear(),l=c,c.indexOf("|")<0){var g=d(c);h=g,k=e(c),i=g}else{var j=c.split("|");h=d(j[0]),k=e(j[0]),i=f(c)}return h=b.filterXSS(h),i=b.filterXSS(i),this}},this.getVid=function(){return h},this.getVidList=function(){return i},this.getVidArray=function(){return i.split("|")},this.getIdx=function(){return k},this.getDuration=function(){if(!o.duration)return this.data&&this.data.vl&&b.isArray(this.data.vl.vi)&&this.data.vl.vi.length>0&&0!=this.data.vl.vi[0].td?this.data.vl.vi[0].td:0;for(var a=o.duration.split("|"),c=0,d=0,e=a.length;e>d;d++)c+=parseInt(a[d]);return c},this.getFileSize=function(){return this.data&&this.data.vl&&this.data.vl.vi&&this.data.vl.vi[0]&&this.data.vl.vi[0].fs?parseInt(this.data.vl.vi[0].fs,10):0},this.getTimelong=function(){return this.getDuration()},this.getEndOffset=function(){return this.getDuration()-this.getTail()},this.setChannelId=function(b){return a.$.isString(b)?(m=b,this):void 0},this.getChannelId=function(a){return m},this.getFullVid=function(){return 0==this.getIdx()?d(this.getVid()):d(this.getVid())+"_"+this.getIdx()},this.getTitle=function(){return""===o.title&&this.data&&("mp4"==this.data.playtype&&this.data.vl&&b.isArray(this.data.vl.vi)&&this.data.vl.vi.length>0?o.title=this.data.vl.vi[0].ti||"":"hls"==this.data.playtype&&b.isArray(this.data.vi)&&this.data.vi.length>0&&(o.title=this.data.vi[0].title||"")),o.title},this.clear=function(){h="",i="",j=0,k=0,m="",r=null,q={},b.extend(o,c),this.data={},this.url=""},this.clone=function(a){a.setVid(l),a.setChannelId(m);for(var c in o){var d=c.charAt(0).toUpperCase()+c.substr(1);a["set"+d](this["get"+d]())}b.extend(a.data,this.data)},this.getVideoSnap=function(){var b=[];return b[0]=a.common.getVideoSnap(h,k),b[1]=b[0].replace("_160_90_3","_1"),b[2]=b[1].replace("_1.jpg",".png"),b},this.getMP4Url=function(c){var d="",e=this.getVidArray(),f="";if(b.isString(c)){if(d=c,b.inArray(c,e)<0){var g=b.Deferred();return g.reject(),g}}else isNaN(c)?(d=this.getVid(),f=this.getFullVid()):f=d=this.getVidArray()[c>=e.length?0:c];this.lastQueryVid=f||d,this.setRid(b.createGUID());var h=d+"_mp4_"+this.getFormat();if("object"==b.type(q[h])&&b.isFunction(q[h].done)&&"resolved"==q[h].state())return q[h];q[h]=b.Deferred();var i=this;return a.h5Helper.loadVideoUrlByVid({vid:d,isPay:this.getPay(),eduext:o.eduext?o.eduext:0,yyactid:o.yyactid?o.yyactid:0,classType:o.classType,fmt:this.getFormat(),appId:p instanceof a.Player?p.config.appid:0,contentId:p instanceof a.Player?p.config.contentId:""}).done(function(a,c){var d=i.getFreeFlowHelper(),e=!1,f=function(a){i.url=a,i.data=c,i.data.playtype="mp4",q[h]&&q[h].resolve(a)};"function"===b.type(d)?(d(a,function(a){e=!0,f(a)}),setTimeout(function(){e||f(a)},5e3)):f(a)}).fail(function(a,c){q[h]&&q[h].reject(a,b.isUndefined(c)?0:c)}),q[h]},this.getHLS=function(c){var d="",e=this.getVidArray(),f="";if(b.isString(c)){if(d=c,b.inArray(c,e)<0){var g=b.Deferred();return g.reject(),g}}else isNaN(c)?(d=this.getVid(),f=this.getFullVid()):f=d=this.getVidArray()[c>=e.length?0:c];this.lastQueryVid=f||d,this.setRid(b.createGUID());var h=d+"_hls_"+this.getFormat();if("object"==b.type(q[h])&&b.isFunction(q[h].done)&&"resolved"==q[h].state())return q[h];q[h]=b.Deferred();var i=this;return a.h5Helper.loadHLSUrlByVid({vid:d,isPay:this.getPay(),fmt:this.getFormat(),appId:p instanceof a.Player?p.config.appid:0,contentId:p instanceof a.Player?p.config.contentId:""}).done(function(a,b){i.url=a,i.data=b,i.data.playtype="hls",q[h]&&q[h].resolve(a)}).fail(function(a,c){q[h]&&q[h].reject(a,b.isUndefined(c)?0:c)}),q[h]},this.getPlayFormat=function(){if(!b.isPlainObject(this.data))return this.getFormat();if("object"==b.type(this.data.fl)&&b.isArray(this.data.fl.fi))for(var a=this.data.fl.fi,c=0;c<a.length;c++)if(1==a[c].sl)return a[c].name;return this.getFormat()},this.getSrtLangList=function(){return"object"==b.type(this.data.sfl)&&b.isArray(this.data.sfl.fi)?(b.each(this.data.sfl.fi,function(b,c){c.desc=a.html5lang.getSrtName(c.id)}),this.data.sfl.fi):[]},this.getSrtUrlList=function(c){if(b.isUndefined(c)){var d=this.getSrtLangList();if(!(d.length>0))return b.Deferred().reject(-1);c=d[0]}if("object"!=b.type(c)&&!isNaN(c)){for(var e=0,f=this.data.sfl.fi.length;f>e;e++)if(this.data.sfl.fi[e].id==c){c=this.data.sfl.fi[e];break}if("object"!=b.type(c))return b.Deferred().reject(-2)}var g=this.getVid(),h=g+"_srt_"+c.id;if("object"==b.type(q[h])&&b.isFunction(q[h].done)&&"resolved"==q[h].state())return q[h];q[h]=b.Deferred();var i=this;return a.h5Helper.loadSRT({vid:g,sflid:c.id,pid:i.getPid()}).done(function(a){var d=[];"object"==b.type(a.ul)&&b.isArray(a.ul.ui)&&b.each(a.ul.ui,function(a,b){d.push([b.url,"lang="+c.name].join("?"))}),q[h].resolve(d)}).fail(function(a){q[h].reject(a)}),q[h]},this.getFormatList=function(){if("object"==b.type(r)&&b.isFunction(r.done))return r;r=b.Deferred();var a=this,c=["mp4","msd"],d=function(){var d=[];return b.isPlainObject(a.data.fl)&&b.isArray(a.data.fl.fi)?(b.each(a.data.fl.fi,function(a,e){-1!=b.inArray(e.name,c)&&d.push(e.name)}),d):[]};return this.getMP4Url().done(function(){r.resolve({list:d()})}).fail(function(){r.reject({list:[]})}),r},this.hasHardSubtitle=function(){for(var a=video.getFormat(),b=0,c=this.data.fl.fi.length;c>b;b++){var d=this.data.fl.fi[b];if(d.name==a)return!!d.sb}return!1},this.hasSoftSubtitle=function(){return"object"==b.type(this.data.sfl)&&b.isArray(this.data.sfl.fi)&&this.data.sfl.fi.length>0}},a.PLAYTYPE={LIVE:"1",VOD:"2"}}(tvp,tvp.$),function(a){tvp.speedlimit={buildResult:function(b){var c=!1,d=!1,e=a.Deferred();return a.browser.MQQ&&a.browser.version>5.1&&(d=!0),d&&this.mqqGetResult(b).then(function(a){a?e.resolve(a):e.resolve()}),d&&(c=!0),c||e.resolve(),setTimeout(function(){e.resolve()},3e3),e},mqqGetResult:function(b){function c(){if(window.x5&&window.x5.getBrowserSignature)try{var c=parseInt(tvp.$.now()/1e3,10);x5.getBrowserSignature("vid:"+b+"["+c+"]",function(b){b?d.resolve({bver:a.browser.version,pkckey:b}):d.resolve()},function(){d.resolve()})}catch(e){d.resolve()}else d.resolve();setTimeout(function(){d.resolve()},300)}var d=a.Deferred();return window.x5&&window.x5.getBrowserSignature?c():tvp.app?(tvp.app.loadMqqDefer||(tvp.app.loadMqqDefer=tvp.app.loadMqqAPI()),tvp.app.loadMqqDefer.done(function(){c()}),tvp.app.loadMqqDefer.fail(function(){d.resolve()})):d.resolve(),d}}}(tvp.$);var Qvsec={};Qvsec.ha=function(a){function b(a,b){return((a>>1)+(b>>1)<<1)+(1&a)+(1&b)}for(var c=[],d=0;64>d;)c[d]=0|4294967296*Math.abs(Math.sin(++d));var e=function(d){for(var e,f,g,h,i=[],j=unescape(encodeURI(d)),k=j.length,l=[e=1732584193,f=-271733879,~e,~f],m=0;k>=m;)i[m>>2]|=(j.charCodeAt(m)||128)<<8*(m++%4);for(i[d=(k+8>>6)*a+14]=8*k,m=0;d>m;m+=a){for(k=l,h=0;64>h;)k=[g=k[3],b(e=k[1],(g=b(b(k[0],[e&(f=k[2])|~e&g,g&e|~g&f,e^f^g,f^(e|~g)][k=h>>4]),b(c[h],i[[h,5*h+1,3*h+5,7*h][k]%a+m])))<<(k=[7,12,17,22,5,9,14,20,4,11,a,23,6,10,15,21][4*k+h++%4])|g>>>32-k),e,f];for(h=4;h;)l[--h]=b(l[h],k[h])}for(d="";32>h;)d+=(l[h>>3]>>4*(1^7&h++)&15).toString(a);return d};return e}(16),Qvsec.stringToHex=function(a){for(var b="",c=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),d=0;d<a.length;d++)b+=c[a.charCodeAt(d)>>4]+c[15&a.charCodeAt(d)];return b},Qvsec.hexToString=function(a){for(var b="",c="0x"==a.substr(0,2)?2:0;c<a.length;c+=2)b+=String.fromCharCode(parseInt(a.substr(c,2),16));return b},Qvsec._Seed="#$#@#*ad",Qvsec.tempcalc=function(a,b){for(var c="",d=0;d<a.length;d++)c+=String.fromCharCode(a.charCodeAt(d)^b.charCodeAt(d%4));return c},Qvsec.u1=function(a,b){for(var c="",d=b;d<a.length;d+=2)c+=a.charAt(d);return c},Qvsec._urlStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Qvsec.urlenc=function(a,b,c){for(var d,e,f,g,h,i,j,k="",l=0;l<a.length;)d=a.charCodeAt(l++),e=a.charCodeAt(l++),f=a.charCodeAt(l++),15==l&&(k+="A",k+=b,k+=c),g=d>>2,h=(3&d)<<4|e>>4,i=(15&e)<<2|f>>6,j=63&f,isNaN(e)?i=j=64:isNaN(f)&&(j=64),k=k+Qvsec._urlStr.charAt(g)+Qvsec._urlStr.charAt(h)+Qvsec._urlStr.charAt(i)+Qvsec._urlStr.charAt(j);return k},Qvsec.$xx=function(a,b,c,d){var e=""+Math.floor((new Date).valueOf()/1e3),d=(""+d).charAt(0),f="",g="",h={plt:a||"",vid:b||"",std:c||"",sts:d||"",ts:e,rf:f,ua:g};h=window.JSON?JSON.stringify(h):function(){var a=[];for(var b in h)a.push('"'+b+'":"'+h[b]+'"');return"{"+a.join(",")+"}"}(h);var i=Qvsec.hexToString(Qvsec.ha(a+b+e+Qvsec._Seed+f+g+d.charAt(0)+c)),j=Qvsec.urlenc(Qvsec.tempcalc(i,Qvsec._Seed),d.charAt(0),e),k=Qvsec.urlenc(Qvsec.tempcalc(i,"86FG@hdf"),d.charAt(0),e),l=Qvsec.u1(j,0),m=Qvsec.u1(j,1);return{p:h,u:j,c:k,u1:l,u2:m,t:e}},function(a,b){function c(){var a="view.inews.qq.com"===i.host;return b.os.iphone||b.os.ipod?a?"v3110":"v3010":b.os.ipad?a?"v4110":"v4010":b.os.android?b.os.tablet?"v6010":a?"v5110":"v5010":b.browser.IEMobile?"v7010":"v1010"}function d(a,b){for(var c=0,d=b.length;d>c;c++)if(1==b[c].sl)return b[c].id;return-1}function e(c){var d={cmd:3532,speed:0,appId:0,contentId:"",vid:"",itype:1,val:0,val2:0,str3:""};c=b.extend(d,c),a.report(c)}function f(a){a=a||{};var d,e=!1;return a.alias&&"string"==typeof a.fn&&a.vid&&(a.fn=a.fn.replace(a.vid,a.alias),e=!0),j&&"string"==typeof a.path&&(a.path=a.path.replace(/\/\/(.+?)(\/|#|$|\?)/,function(){return arguments.length>1?arguments[0].replace(arguments[1],j):arguments[0]})),d=a.path.indexOf("?")>-1?a.path+"&"+a.fn+"&vkey="+a.vkey+"&br="+a.br+"&platform=2&fmt="+a.fmt+"&level="+a.level+"&sdtfrom="+c():a.path+a.fn+"?vkey="+a.vkey+"&br="+a.br+"&platform=2&fmt="+a.fmt+"&level="+a.level+"&sdtfrom="+c(),b.isString(a.sha)&&a.sha.length>0&&(d+="&sha="+a.sha),e&&(d+="&vidalias=1"),d}function g(a){return function(c){e(b.extend(a,c))}}function h(d){var e,f,g,h="",i=1,j={};if("object"==typeof Qvsec&&"function"==typeof Qvsec.$xx&&"string"==typeof d){e=b.getUrlParam("platform",d),f=b.getUrlParam("vids",d),g=c(),d.indexOf("mvgetinfo?")>-1&&(b.os.iphone?g="V3013":b.os.ipad?g="V4013":b.os.android&&(g="V5013"));try{j=Qvsec.$xx(e,f,g,i)}catch(k){"function"==typeof a.reportErr&&k&&k.message&&a.reportErr(k.message)}j&&(h=h+"&_qv_rmt="+j.u1,h=h+"&_qv_rmt2="+j.u2,b.getUrlParam("sdtfrom",d)||(h=h+"&sdtfrom="+g),d=d+(-1==d.indexOf("?")?"?":"&")+h,b.cookie.set("qv_als",j.c))}return d}var i={isHLS:!1,isPay:!1,vid:"",fmt:"auto",platform:11001,host:window!=top?document.referrer:document.location.host},j="";i.cgi=function(){if("view.inews.qq.com"===i.host){var c="";return b.browser.WeChat&&(c="nocache=1&"),{getinfo:"http://h5wx.video.qq.com/getinfo?callback=?&",getkey:"http://h5wx.video.qq.com/getkey?callback=?&"+c}}return{getinfo:a.common.get_request_url("getinfo")+"?callback=?&",edugetvinfo:"http://sv.video.qq.com/edugetvinfo?",yygetinfo:"http://sv.video.qq.com/mvgetinfo?",yygetkey:"http://sv.video.qq.com/mvgetkey?",getkey:a.common.get_request_url("getkey")+"?callback=?&"}}(),i.retryCgi=function(){return b.browser.WeChat||b.browser.MQQClient?{getinfo:i.cgi.getinfo.replace(/(\/\/)(.+?)(\/|$)/,"$1bkh5vv.video.qq.com$3"),getkey:i.cgi.getkey.replace(/(\/\/)(.+?)(\/|$)/,"$1bkh5vv.video.qq.com$3")}:{getinfo:i.cgi.getinfo.replace(/(\/\/)(.+?)(\/|$)/,"$1bkh5vv.video.qq.com$3"),getkey:i.cgi.getkey.replace(/(\/\/)(.+?)(\/|$)/,"$1bkh5vv.video.qq.com$3")}}(),a.h5Helper={loadVideoUrlByVid:function(c){var d="";return a.speedlimit?(d=b.Deferred(),a.speedlimit.buildResult().done(function(b){var e=a.h5Helper.loadVideoUrlByVid_base(c,b);e.done(function(a,b){d.resolve(a,b)}),e.fail(function(a,b){d.reject(a,b)})})):d=a.h5Helper.loadVideoUrlByVid_base(c),d},loadVideoUrlByVid_base:function(e,j){var k={},l={},m=b.Deferred();b.extend(b.extend(k,i),e);var n=new a.RetCode(100126),o=!1,p=i.cgi.getinfo,q=b.now(),r=0,s="",t=b.noop,u=i.cgi.getkey;e.eduext&&(p=i.cgi.edugetvinfo),1===e.classType&&(p=i.cgi.edugetvinfo),e.yyactid&&(p=i.cgi.yygetinfo,u=i.cgi.yygetkey),a.common.isMac()&&(k.fmt="mp4");var v,w=!1,x={};if(e.defer&&(m=e.defer),e&&!e.noAuth){v=a.common.getParams(location.href);var y="v.qq.com"===location.hostname&&"/iframe/player.html"===location.pathname;y&&v&&v.cKey&&v.encryptVer&&v.platform&&(w=!0)}e.retryDefer&&b.isFunction(e.retryDefer.reject)&&(o=!0,m=e.retryDefer,p=i.retryCgi.getinfo,u=i.retryCgi.getkey),e.loadingAdCgi&&(p=e.loadingAdCgi),x={platform:k.platform,charge:k.isPay?1:0,otype:"json",sb:1,nocache:b.browser.MQQClient||b.browser.WeChat?1:0,_rnd:(new Date).valueOf()},e.eduext?b.extend(x,{eduext:e.eduext,platform:261001,vid:k.vid,defn:k.fmt}):1===e.classType?b.extend(x,{platform:221001,vid:k.vid,defn:k.fmt}):e.yyactid?b.extend(x,{actid:k.yyactid,vids:k.vid,platform:181001,defaultfmt:k.fmt}):b.extend(x,{vids:k.vid,defaultfmt:k.fmt}),t=g({itype:1,val2:o?1:0,str3:s,vid:k.vid,appId:k.appId,contentId:k.contentId}),n.begin(),t();var z=function(a){var d,g=0,h=void 0;return r=b.now()-q,a&&a.s?"o"!=a.s?(g=a.em||50,h=a.exem):a.vl&&a.vl.vi&&b.isArray(a.vl.vi)&&0!=a.vl.cnt?d=a.vl.vi[0]:g=68:g=50,0!=g||5==d.fst&&b.isPlainObject(d.ul)&&b.isArray(d.ul.ui)&&0!=d.ul.ui.length?0==g&&2!=d.st&&(8!=d.st?g=62:(g=83,h=d.ch)):g=62,e.yyactid&&83===g&&(h=-3),G&&(h=0),0!=g?(t({val:g,speed:r}),n.reportErr(g),void m.reject(g,h)):(n.reportSuc(),t({val:0,speed:r}),e.loadingAdCgi?void m.resolve(d.ul.ui[0].url,{vl:a.vl,fl:a.fl,sfl:a.sfl,exem:a.exem,preview:a.preview}):d.fvkey?(h=f({path:d.ul.ui[0].url,fn:d.fn,vkey:d.fvkey,br:d.br,platform:2,fmt:k.fmt,level:d.level,sdtfrom:c(),sha:d.fsha,vid:k.vid,alias:d.alias}),void m.resolve(h,{vl:a.vl,fl:a.fl,sfl:a.sfl,exem:a.exem,preview:a.preview})):void A())},A=function(){var i,j=vi.ul.ui[0];l.br=vi.br,l.path=j.url,l.fn=vi.fn,l.fiid=d(k,infojson.fl.fi),l.vt=j.vt,i=new a.RetCode(100127),i.begin(),q=b.now(),s=u+b.param({otype:"json",vid:k.vid,format:l.fiid,filename:l.fn,platform:k.platform,vt:l.vt,charge:k.isPay?1:0,_rnd:(new Date).valueOf()}),s=h(s),t=g({itype:2,val2:o?1:0,str3:s,vid:k.vid,appId:k.appId,contentId:k.contentId}),t(),b.ajax({url:s,dataType:"jsonp"}).done(function(a){var d="";return iRetCode=0,r=b.now()-q,a&&a.s?"o"!=a.s&&(iRetCode=a.em||50):iRetCode=50,0!=iRetCode?(i.reportErr(iRetCode),t({val:iRetCode,speed:r}),void m.reject(iRetCode)):(d=f({path:l.path,fn:l.fn,vkey:a.key,br:l.br,platform:2,fmt:k.fmt,level:a.level,sdtfrom:c(),sha:a.sha,vid:k.vid,alias:vi.alias}),i.reportSuc(),t({val:0,speed:r}),void m.resolve(d,{vl:infojson.vl,fl:infojson.fl,sfl:infojson.sfl,exem:infojson.exem,preview:infojson.preview}))}).fail(function(){i.reportErr(),t({val:500,speed:b.now()-q}),o?m.reject(500,2):(e.retryDefer=m,a.h5Helper.loadVideoUrlByVid(e))})},B=function(){s=p+b.param(x),j&&"object"===b.type(j)&&(s+="&"+b.param(j)),s=h(s),b.ajax({url:s,dataType:"jsonp"}).done(function(b){return!e.noAuth&&b&&0!=b.em&&"o"!=b.s?85===b.em&&-3===b.type&&1===e.cgi_auth_index?(e.cgi_auth_index+=1,e.defer=m,e.needTime=!0,e.svr_time=b.curTime,void a.h5Helper.loadVideoUrlByVid(e)):(e.noAuth=!0,e.defer=m,void a.h5Helper.loadVideoUrlByVid(e)):void z(b)}).fail(function(){n.reportErr(),t({val:500,speed:b.now()-q}),o?m.reject(500,1):(e.noAuth=!0,e.retryDefer=m,a.h5Helper.loadVideoUrlByVid(e))})};if(e.noAuth)return B(),m;var C=a.app.pageType,D=window!==top,E=navigator.userAgent.toLowerCase().indexOf("qnreading")>-1,F=navigator.userAgent.toLowerCase().indexOf("qqnews")>-1,G=2===C&&("xiaoqu.qq.com"===window.location.hostname||"buluo.qq.com"===window.location.hostname);if(3!==C||D)if(w&&v){b.extend(x,{platform:v.platform,cKey:v.cKey,encryptVer:v.encryptVer});try{"61001"===v.platform.toString()&&window.parent!==window&&window.parent.location&&window.parent.location.href&&(x.wxrefer=window.parent.location.href)}catch(H){}B()}else G?window.getBrowserSignature?a.app.mqqBuoLuoAuth(k.vid).done(function(c){c&&b.extend(x,{cKey:c,encryptVer:"6.4",platform:a.$.os.ios?"170408":"170308"}),B()}).fail(function(){B()}):B():E||F?(e.cgi_auth_index||(e.cgi_auth_index=1),a.app.kuaiBaoAppAuth(k.vid,e.svr_time).done(function(a){a&&a.ver&&a.key&&a.platform&&b.extend(x,{cKey:a.key,sdtfrom:a.sdtfrom,encryptVer:a.ver,platform:a.platform,defaultfmt:"mp4"}),B()}).fail(function(){B()})):B();else e.cgi_auth_index||(e.cgi_auth_index=1),a.app.getQQBrowserSignKey(k.vid,e.needTime).done(function(a){a&&b.extend(x,{platform:a.platform,cKey:a.key,encryptVer:a.ver}),B()});return m},loadHDVideoUrlByVid:function(b){b.fmt="mp4",a.h5Helper.loadVideoUrlByVid(b)},loadHLSUrlByVid:function(c){var d={},e=b.Deferred();b.extend(b.extend(d,i),c);var f=new a.RetCode(100128),j="http://h5vv.video.qq.com/gethls?callback=?&"+b.param({vid:d.vid,charge:d.isPay?1:0,otype:"json",platform:d.platform,_rnd:(new Date).valueOf()}),k=g({itype:3,str3:j,vid:d.vid,appId:d.appId,contentId:d.contentId}),l=b.now();return j=h(j),k(),f.begin(),b.ajax({url:j,dataType:"jsonp"}).done(function(c){if(!c||!c.s)return f.reportErr(50),k({speed:b.now()-l,val:50}),void e.reject(50);if("o"!=c.s)return f.reportErr(c.em||50),k({speed:b.now()-l,val:c.em||50}),void e.reject(c.em||50);if(!c.vd||!c.vd.vi||!a.$.isArray(c.vd.vi))return f.reportErr(68),k({speed:b.now()-l,val:68}),void e.reject(68);for(var d=[],g=-2,h=0;h<c.vd.vi.length;h++)if(g=c.vd.vi[h].ch,2==c.vd.vi[h].st){var i=c.vd.vi[h].url.toLowerCase();if(!(i.indexOf(".mp4")<0&&i.indexOf(".m3u8")<0)&&c.vd.vi[h].url){var j=c.vd.vi[h];d.push(j.url);break}}return 0==d.length?(f.reportErr(68),k({speed:b.now()-l,val:68}),void e.reject(68,g)):(k({speed:b.now()-l,val:0}),f.reportSuc(),void e.resolve(d[0],c.vd))}).fail(function(){f.reportErr(),k({speed:b.now()-l,val:500}),e.reject(500,3)}),e},load3GVideoUrl:function(b){b.fmt="msd",a.h5Helper.loadVideoUrlByVid(b)},loadIsUseHLS:function(c){var d={},e=b.Deferred();b.extend(b.extend(d,i),c);var f=new a.RetCode(100125);return f.begin(),b.ajax({url:a.common.get_request_url("get_dtype")+"?callback=?&"+b.param({vids:d.vid,platform:d.platform,otype:"json",_rnd:(new Date).valueOf()}),dataType:"jsonp"}).done(function(a){var d=1;if("object"!=b.type(a))return f.reportErr(),void e.reject(500,4);if("o"!=a.s||!b.isArray(a.dl)||0==a.dl.length)return f.reportErr(a.em),void e.reject(a.em||50);for(var g=0,h=a.dl.length;h>g;g++)a.dl[g].vid===c.vid&&(d=a.dl[g].dltype);f.reportSuc(),e.resolve(d,a)}).fail(function(){f.reportErr(),e.reject(500,4)}),e},loadSRT:function(a){var c={},d=b.Deferred();return b.extend(b.extend(c,i),a),b.ajax({url:"http://h5vv.video.qq.com/getsurl?"+b.param({vid:c.vid,format:c.sflid,platform:c.platform,pid:c.pid,otype:"json",_rnd:(new Date).valueOf()}),dataType:"jsonp"}).done(function(a){return"object"!=b.type(a)?void d.reject(500):"o"!=a.s?void d.reject(isNaN(a.em)?500:a.em,a.msg||""):void d.resolve(a)}).fail(function(){d.reject(500)}),d},setSpecialVideoFileDomain:function(a){"string"==typeof a&&/^(\S+[\.])?qq\.com/.test(location.host)&&(j=a)}}}(tvp,tvp.$),function(a,b){a.BasePlayer=function(){var c={};this.modId="",this.sessionId="",this.$mod=null,this.videomod=null,this.playerid="",this.curVideo=null,this.instance=null,this.dataset={},this.eventList=["inited","play","playing","ended","allended","pause","resume","timeupdate","getnext","error","stop","fullscreen","change","write","flashpopup","getnextenable","msg","h5loadingadstart","h5loadingadend"],this.config={},this.hijackFun=["getPlayer","getCurVideo","showPlayer","hidePlayer","play","pause","getPlaytime","setPlaytime","getPlayerType","resize"],this.prototype={},function(b){var c=["init","addParam","write","setPlayerReady"];c=c.concat(b.hijackFun);for(var d=0,e=c.length;e>d;d++)b.prototype[c[d]]=a.$.noop;
}(this),this.addParam=function(a,b){this.config[a]=b},this.on=function(a,d){a&&b.isFunction(d)&&(c[a]=b.isArray(c[a])?c[a]:[],c[a].push(d))},this.trigger=function(a){var d,e,f;if(a&&b.isArray(c[a]))for(e=0,f=c[a].length;f>e;e++)b.isFunction(c[a][e])&&(d=Array.prototype.slice.call(arguments,1),c[a][e].apply(null,d))},this.off=function(a,d){var e;a&&b.isArray(c[a])&&(d?(e=b.inArray(d,c[a]),e>=0&&(c[a][e]=void 0)):c[a]=void 0)}},a.BasePlayer.prototype={setCurVideo:function(a){this.curVideo=a},getPlayer:function(){return null},getCurVideo:function(){return this.curVideo},getCurVid:function(){return this.curVideo instanceof a.VideoInfo?this.curVideo.getVid():""},getCurVidList:function(){return this.curVideo instanceof a.VideoInfo?this.curVideo.getVidList():""},init:function(c){b.extend(this.config,c);for(var d=0,e=this.eventList.length;e>d;d++){var f="on"+this.eventList[d];this[f]=b.isFunction(this.config[f])?this.config[f]:a.$.noop}this.setCurVideo(this.config.video),this.write(this.config.modId)},write:function(a){b("#"+a).html("here is player of base")},log:function(a){window.console&&window.console.log(a)},getCBEvent:function(c){var d=void 0;return this.instance&&b.isFunction(this.instance[c])&&this.instance[c]!=a.$.noop?d=this.instance[c]:b.isFunction(this[c])&&this[c]!=a.$.noop&&(d=this[c]),d},callCBEvent:function(a){var c=this.getCBEvent(a);if(b.isFunction(c)){var d=Array.prototype.slice.call(arguments,1);return c.apply(this,d)}return void 0},resize:function(a,c){var d=this.getPlayer();d&&(d.style.width=b.formatSize(a),d.style.height=b.formatSize(c))},showPlayer:function(){return},hidePlayer:function(){return},execFlashMethod:function(a){var b,c=this.getPlayer(),d=[];if(c&&c[a]){d=[].slice.call(arguments,1);try{return b=c[a].apply(c,d)}catch(e){}}}}}(tvp,tvp.$),function(a,b){a.livehub={g_flashp2p:!1,iretcode:0,g_curCnlInfo:{},stepReport:function(c,d){var e={cmd:3545,val:c};"object"==b.type(d)&&(e=b.extend(e,{speed:d.delay,int5:d.code,vid:d.lid}),d.config&&(e=b.extend(e,{contentId:d.config.contentId,appId:d.config.appid}))),a.report(e)},FlashChecker:function(c){var d=this;this.cnlId="",this.extParam={},this.onError=b.noop,this.onCanFlash=b.noop,this.onCanHTML5=b.noop,this.onCanOCX=b.noop,this.onComplete=b.noop,this.onGetCnlId=b.noop;var e=function(b,d){d=d||{},d.config=c,a.livehub.stepReport(b,d)};this.onSuccess=function(c){c&&0==c.iretcode?(a.livehub.iretcode=c.iretcode,a.livehub.g_flashp2p=c.flashp2p?!0:!1,a.debug("get channel info:flashid="+c.flashid+",p2pid="+c.p2pid+",flashp2p="+c.flashp2p),d.cnlId=""+c.flashid||c.p2pid||"",d.onGetCnlId(""+d.cnlId,!1),a.livehub.getCurChannelInfo(d.cnlId,d.extParam),c.flashid?(e(5),d.onCanFlash(d.cnlId)):b.os.windows&&c.p2pid?(e(6),d.onCanOCX(d.cnlId)):(e(7,{code:c.iretcode}),d.onError(c.iretcode))):(e(8,{code:c.iretcode}),d.onError(500))},this.send=function(){if(e(1),a.common.isUseHtml5())return e(2),d.onCanHTML5(d.cnlId),void d.onComplete();var c=b.now();b.ajax({url:"http://info.zb.qq.com",data:{cmd:1,cnlid:d.cnlId||""},dataType:"jsonp"}).done(function(a,f){f=b.now()-c,e(3,{delay:f}),d.onSuccess(a),d.onComplete()}).fail(function(a,f){f=b.now()-c,e(4,{delay:f}),d.onError(),d.onComplete()})}},getCurChannelInfo:function(c,d){var e=a.livehub.g_curCnlInfo;d&&"object"==b.type(d)?(e.cnlId=d.cnlId,d.channelname&&(e.cnlName=d.channelname),d.currentname&&d.currenttime&&(e.prmInfo=d.currenttime+"|"+d.currentname)):e={}}}}(tvp,tvp.$),function(a,b){function c(c,d,e){var g=b.now(),h=g-f,i={cmd:3529,val:c,str4:d,speed:0>h?b.now()-g:h};f=g,"object"==b.type(e)&&b.extend(i,e),a.report(i)}function d(c,d){var e=c+"Defer";if(a[e])return a[e];var f=b.Deferred();a[e]=f;var g="//imgcache.qq.com/tencentvideo_v1/tvp/js/",h=c.toLowerCase();"OcxPlayer"==c&&"undefined"!=typeof QQLive&&"undefined"!=typeof QQLive.DEFINE&&(h="ocxplayerlite");var i=g+"module/"+h+".js?max_age=86400&v="+a.ts;if("function"==typeof a[c])f.resolve();else{var j=new a.RetCode(100123),k=b.now();j.begin(),d(1),b.getScript(i,function(){var e=b.now()-k;if("function"!=typeof a[c])throw j.reportErr(11),d(2,11,e),new Error(errMsg[1]);d(2,0,e),j.reportSuc(),f.resolve()})}return f}function e(a){return"string"==b.type(a)&&/html5|mp4/i.test(a)}var f=b.now(),g=function(c,f){function h(){var a=b.Deferred();switch(r.playerType){case"flash":t="FlashPlayer";break;case"html5":m();break;case"ocx":t="OcxPlayer";break;case"mp4":t="MP4Link";break;default:i()}return a.resolve(),a}function i(){var b=navigator.platform.toLowerCase(),c=navigator.userAgent.toLowerCase(),d=a.version.getFlashMain(),e=/ipad|ipod|iphone|lepad_hls|IEMobile|WPDesktop/gi.test(c),f=/MacIntel/gi.test(b),g=/ipad|ipod|iphone|playstation/gi.test(b);return a.common.isEnforceMP4()?void(t="MP4Link"):e||g||a.$.os.android?void(a.common.isSupportMP4()||a.common.isInUseH5()?m():t="MP4Link"):(isNaN(d)||10>d)&&f&&a.common.isSupportMP4()?void m():void(t="FlashPlayer")}function j(c){if(c.getChannelId()){var d=c.getChannelId();if("object"==b.type(s[d])&&b.isFunction(s[d].done))return s[d];s[d]=b.Deferred();var e=new a.livehub.FlashChecker(r),f=!0;return e.cnlId=c.getChannelId(),e.extParam=c.getChannelExtParam(),e.onGetCnlId=function(a,b){c.setChannelId(a),c.setIsLookBack(!!b)},e.onCanFlash=function(a){t="FlashLivePlayer"},e.onCanHTML5=function(){n()},e.onCanOCX=function(){t="OcxPlayer"},e.onError=function(a){k(),f=!1},e.onComplete=function(){l(),f?s[d].resolve():s[d].reject()},e.send(),s[d]}}function k(){a.common.isLiveUseHTML5()?n():t=b.os.android?"FlashLivePlayer":"OcxPlayer"}function l(){switch(r.playerType){case"flash":t="FlashLive";break;case"html5":n();break;case"flashLive":t="FlashLivePlayer";break;case"ocx":t="OcxPlayer"}}function m(){x=!0,t=r.isHtml5UseUI?"Html5Player":"Html5Tiny"}function n(){t=r.isHtml5UseUI?"Html5Live":"Html5LiveTiny"}function o(a){for(var b=!1,c=document.getElementsByTagName("link")||[],d=0,e=c.length;e>d&&!(b=c[d]&&c[d].href&&(0==c[d].href.indexOf(a)||-1!=c[d].href.indexOf("player_inews.css")));)d++;return b}function p(){function d(){if(!g){g=!0;var b=new a[t];b.init(c),q.resolve(b,t)}}var f=null,g=!1,h=b.inArray(t,w),i=r.cssPath+(c.HTML5CSSName||"player.css");(h>-1&&b.isString(c.HTML5CSSName)&&c.HTML5CSSName.length>0||e(t))&&!o(i)?(f=setTimeout(function(){c.isHtml5UseUI=!1,t=y[h],d()},5e3),i+=-1===i.indexOf("?")?"?t="+a.ts:"&t="+a.ts,b.loadCss(i).done(function(){clearTimeout(f),f=null,d()})):d()}var q=b.Deferred(),r={},s={},t="FlashPlayer",u=["\u672a\u6307\u660e\u64ad\u653e\u5668\u5185\u6838","\u60a8\u5f53\u524d\u4f7f\u7528\u7684\u7edf\u4e00\u64ad\u653e\u5668JS\u6587\u4ef6\u4e0d\u5305\u542b\u6307\u5b9a\u7684\u64ad\u653e\u5668\u5185\u6838","video\u672a\u521d\u59cb\u5316"],v=["FlashPlayer","FlashLivePlayer","MP4Link","OcxPlayer"],w=["Html5Player","Html5Live"],x=!1,y=["Html5Tiny","Html5LiveTiny"];if(v=v.concat(w),v=v.concat(y),b.extend(r,c),b.isUndefined(c.isHTML5UseUI)||(r.isHtml5UseUI=c.isHTML5UseUI),!c.video instanceof a.VideoInfo)throw new Error(u[2]);return c.video.setCurPlayer(f),g.checkLivePlayer=j,b.when(c.type==a.PLAYER_DEFINE.VOD?h():j(c.video)).then(function(){var e="",g=function(b,d,f){a.report({cmd:3531,val:b,val2:d||0,str3:e,speed:f||0,contentId:c.contentId||"",appId:c.appid||0})};if(!t)throw new Error(u[0]);if(b.inArray(t,v)<0)throw new Error(u[1]);c.type==a.PLAYER_DEFINE.VOD&&x&&f&&f.trigger&&f.trigger(a.ACTION.onVodH5Init),"function"!=typeof a[t]?d(t,g).done(function(){p.call(f)}):p.call(f)}),q},h={player:"playerType",showcfg:["isVodFlashShowCfg","isLiveFlashShowCfg"],searchbar:["isVodFlashShowSearchBar"],showend:["isVodFlashShowEnd"],tpid:["typeId"],cid:["coverId"],flashshownext:["isVodFlashShowNextBtn"],loadingswf:"loadingswf",wmode:"flashWmode",flashskin:["vodFlashSkin"],extvars:["vodFlashExtVars"],swftype:["vodFlashType"],swfurl:["vodFlashUrl","liveFlashUrl"]};a.Player=function(d,e){this.sessionId=b.createGUID(),c(1,this.sessionId),this.instance=null,this.config={},this._oldcfg={},b.extend(this.config,a.defaultConfig),this.setting("width",d),this.setting("height",e)},a.Player.fn=a.Player.prototype=new a.BasePlayer,b.extend(a.Player.fn,{setting:function(a,b){this.config[a]=b},output:function(a){this.setting("modId",a),this.create(this.config)},create:function(d){var e=this;b.extend(e.config,d),c(2,this.sessionId,{contentId:e.config.contentId||"",appId:e.config.appid||0}),g(e.config,e).done(function(f,h){try{c(3,e.sessionId,{vid:f.curVideo.getFullVid()||f.curVideo.getChannelId(),str3:f.getPlayerType(),contentId:e.config.contentId||"",appId:e.config.appid||0})}catch(i){}e.instance=f,e.instance.instance=e;for(var j in e.instance)"instance"!=j&&("on"==j.substr(0,2)&&b.isFunction(e[j])&&e[j]!=a.$.noop||(e[j]=e.instance[j]));f.callCBEvent("onwrite"),e.config.type==a.PLAYER_DEFINE.LIVE&&(e.play=function(c){b.isString(c)?(e.config.video.setChannelId(c),c=e.config.video):c instanceof a.VideoInfo&&b.when(g.checkLivePlayer(c)).then(function(){e.instance instanceof a[h]?e.instance.play(c):(d.video=c,g(d))})}),a.Player.instance[e.playerid]=e}).always(function(){function c(a,c){try{var d="build"+a;return b.isFunction(e[d])?(e[d].call(e,c),!0):!1}catch(f){}}if(b.each(e.config.plugins,function(a,d){if(d&&a in e.config.pluginUrl){var f,g=b.isPlainObject(d)?d:{};if("AppRecommend"===a&&e.config.plugins.adonend)return;if(!c(a,g)){f=a;var h=e.config.libpath+e.config.pluginUrl[f];b.isString(h)&&""!=b.trim(h)&&b.getScript(h,function(){c(a,g)})}}}),window.console&&_isUseInnerZepto){var d={jQuery:"jq",Zepto:"zepto",jq:"jqmobi"};for(var f in d)if("function"==typeof window[f]){if("jQuery"===f&&"function"!=typeof jQuery.Deferred)break;console.warn("\n"+a.name+"\u63d0\u793a\uff1a\n\u60a8\u5f53\u524d\u9875\u9762\u4f7f\u7528\u4e86"+f+"\n\u5efa\u8bae\u60a8\u5f15\u7528"+a.name+" for "+f+"\u4e13\u7528\u7248\uff0c\u66f4\u8f7b\u66f4\u5feb\u66f4\u7cbe\u7b80\nJS\u5730\u5740://imgcache.qq.com/tencentvideo_v1/tvp/js/tvp.player_v2_"+d[f]+".js\n\n")}}})},addParam:function(c,d){a.report({cmd:3546,val:1}),"config"==c&&"object"==b.type(d)?b.extend(this.config,d):this._oldcfg[c]=d},setCurVideo:function(b){a.report({cmd:3546,val:2}),this.config.video=b,b&&b instanceof a.VideoInfo&&b.setCurPlayer(this)},write:function(c){a.report({cmd:3546,val:3}),this.config.modId=c;var d=1==this._oldcfg.type?1:2,e=this;b.each(this._oldcfg,function(c,f){c in h?b.isArray(h[c])?2==d?e.config[h[c][0]]=f:1==d&&h[c].length>=2&&(e.config[h[c][1]]=f):b.isString(h[c])&&(e.config[h[c]]=f):c in a.defaultConfig&&(e.config[c]=f)}),delete this._oldcfg,this.create(this.config)}}),a.create=g}(tvp,tvp.$),tvp.Player.instance={},function(a){a.extend(a.fn,{createTVP:function(b){if(tvp.report({cmd:3546,val:4}),b=a.extend({},tvp.defaultConfig,b||{}),b.video){var c=null;b.video instanceof tvp.VideoInfo?c=b.video:(c=new tvp.VideoInfo,c.setVid(b.video.vid)),b.video=c,this.each(function(c,d){if("object"==a.type(d)&&1==d.nodeType){b.modId=d.id;var e=new tvp.Player;e.create(b)}})}}})}(tvp.$),function(a){tvp.modeHide=function(b,c){function d(){o.off("click.tvp_mode_hide").on("click.tvp_mode_hide",function(){var b;if(i=n.getPlayer(),b=i?a(i).attr("src"):n.$mod.find("a").attr("href")){if(!tvp.common.isSupportMP4()&&!tvp.common.isUseHtml5())return void(window.location.href=b);l.show(),setTimeout(function(){m.isend?(m.isend=!1,n.play()):i.play(),f(),setTimeout(function(){i.play()},100),e()},5)}})}function e(){m.isInit||(m.isInit=!0,a(i).on("ended",function(){n.cancelFullScreen()}).on("playing",function(){document.webkitIsFullScreen||i.webkitDisplayingFullscreen||k}).on("webkitendfullscreen",function(){g()}),a(document).on("webkitfullscreenchange fullscreenchange",function(){g()}))}function f(){h()?n.enterFullScreen():i.webkitEnterFullscreen()}function g(){i&&(document.webkitIsFullScreen||i.webkitDisplayingFullscreen||k||n.isFakeFullscreen()||(i.pause(),l.hide()))}function h(){return tvp.$.os.android?tvp.$.browser.MQQ?!1:tvp.$.compareVersion(tvp.$.os.version,"4.4")>-1?!1:!0:!1}var i,j,k,l=a("#"+c.modId),m=new tvp.VideoInfo,n=new tvp.Player,o=a(b.btn);j={width:"100%",height:window.innerHeight,video:m,modId:c.modId,isHtml5UseUI:!0,isHtml5UseFakeFullScreen:h(),isiPhoneShowPlaysinline:!1,onwrite:function(){d()},onfullscreen:function(a){a=k,k||g()}},a.extend(j,c),m.setVid(c.vid),n.create(j)}}(tvp.$),tvp.filename="tvp.player_v2_zepto.js","function"==typeof define&&define("tvp",[],function(){return tvp}),global.tvp=tvp,"undefined"!=typeof QQLive&&(global.QQLive=QQLive)}(this);/*  |xGv00|f3e4ebe869e94668301e0c94a44c2dfe */